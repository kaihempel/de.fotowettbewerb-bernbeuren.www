import{c as z,j as t,a as N,H as M}from"./app-Bmu__Epa.js";import{C as y,a as k,b as S,c as C,B as P,d as b}from"./card-JMexIbto.js";import{B as p}from"./button-itwJChzP.js";import{e as _,G as F}from"./global-layout-CX9jzFOa.js";import{c as D}from"./createLucideIcon-CR6s348F.js";import{U as $}from"./upload-Bl_yUZxt.js";/* empty css            *//**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],U=D("download",L);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],E=D("image",Y),H=a=>{switch(a){case"approved":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800";case"new":return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-400 dark:border-yellow-800";case"declined":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-800";default:return""}},R=a=>a<1024?`${a} B`:a<1024*1024?`${(a/1024).toFixed(1)} KB`:`${(a/(1024*1024)).toFixed(2)} MB`,G=()=>{const a=z.c(3);let e;a[0]===Symbol.for("react.memo_cache_sentinel")?(e=t.jsx("div",{className:"flex size-20 items-center justify-center rounded-full bg-muted",children:t.jsx(E,{className:"size-10 text-muted-foreground"})}),a[0]=e):e=a[0];let s;a[1]===Symbol.for("react.memo_cache_sentinel")?(s=t.jsxs("div",{className:"mt-6 space-y-2 text-center",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"No submissions yet"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"You haven't uploaded any photos for the contest."})]}),a[1]=s):s=a[1];let l;return a[2]===Symbol.for("react.memo_cache_sentinel")?(l=t.jsx(y,{className:"border-dashed",children:t.jsxs(b,{className:"flex flex-col items-center justify-center py-16",children:[e,s,t.jsxs(p,{className:"mt-6",onClick:V,size:"lg",children:[t.jsx($,{className:"mr-2 size-4"}),"Upload Your First Photo"]})]})}),a[2]=l):l=a[2],l};function X(a){const e=z.c(29),{submissions:s,remainingSlots:l}=a,B=T;let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsx(M,{title:"My Submissions"}),e[0]=u):u=e[0];let f;e[1]===Symbol.for("react.memo_cache_sentinel")?(f=t.jsxs("div",{children:[t.jsx(S,{children:"My Photo Submissions"}),t.jsx(C,{children:"View and manage your contest photo submissions"})]}),e[1]=f):f=e[1];const v=l===0?"bg-destructive/10 dark:bg-destructive/20":"bg-primary/10 dark:bg-primary/20";let n;e[2]!==v?(n=_("rounded-lg px-4 py-2 text-center",v),e[2]=v,e[3]=n):n=e[3];let g;e[4]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Remaining Slots"}),e[4]=g):g=e[4];const w=l===0?"text-destructive":"text-primary dark:text-primary";let i;e[5]!==w?(i=_("text-2xl font-bold",w),e[5]=w,e[6]=i):i=e[6];let o;e[7]!==l||e[8]!==i?(o=t.jsxs("p",{className:i,children:[l,"/3"]}),e[7]=l,e[8]=i,e[9]=o):o=e[9];let d;e[10]!==n||e[11]!==o?(d=t.jsxs("div",{className:n,children:[g,o]}),e[10]=n,e[11]=o,e[12]=d):d=e[12];let c;e[13]!==l?(c=l>0&&t.jsxs(p,{onClick:I,children:[t.jsx($,{className:"mr-2 size-4"}),"Upload Photo"]}),e[13]=l,e[14]=c):c=e[14];let m;e[15]!==c||e[16]!==d?(m=t.jsx(y,{children:t.jsx(k,{children:t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[f,t.jsxs("div",{className:"flex items-center gap-3",children:[d,c]})]})})}),e[15]=c,e[16]=d,e[17]=m):m=e[17];let x;e[18]!==s.data?(x=s.data.length===0?t.jsx(G,{}):t.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:s.data.map(r=>t.jsxs(y,{className:"group overflow-hidden transition-shadow hover:shadow-lg",children:[t.jsx(k,{className:"space-y-3 pb-4",children:t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"flex-1 space-y-1",children:[t.jsx(S,{className:"line-clamp-1 text-base",children:r.original_filename}),t.jsx(C,{className:"text-xs",children:r.fwb_id})]}),t.jsx(P,{className:_("shrink-0 capitalize",H(r.status)),children:r.status})]})}),t.jsxs(b,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2 text-xs text-muted-foreground",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"File Size:"}),t.jsx("span",{className:"font-medium text-foreground",children:R(r.file_size)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Uploaded:"}),t.jsx("span",{className:"font-medium text-foreground",children:new Date(r.submitted_at).toLocaleDateString()})]}),r.reviewed_at&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Reviewed:"}),t.jsx("span",{className:"font-medium text-foreground",children:new Date(r.reviewed_at).toLocaleDateString()})]})]}),t.jsxs(p,{variant:"outline",size:"sm",className:"w-full",onClick:()=>B(r.file_url,r.original_filename),children:[t.jsx(U,{className:"mr-2 size-4"}),"Download Photo"]}),r.status==="new"&&t.jsx("p",{className:"text-xs text-muted-foreground",children:"Your photo is awaiting review by contest administrators."}),r.status==="approved"&&t.jsx("p",{className:"text-xs text-muted-foreground",children:"Your photo has been approved and is entered in the contest!"}),r.status==="declined"&&t.jsx("p",{className:"text-xs text-muted-foreground",children:"This submission was not accepted. You can upload a new photo in this slot."})]})]},r.id))}),e[18]=s.data,e[19]=x):x=e[19];let h;e[20]!==s.current_page||e[21]!==s.data.length||e[22]!==s.last_page||e[23]!==s.total?(h=s.last_page>1&&t.jsx(y,{children:t.jsxs(b,{className:"flex items-center justify-between py-4",children:[t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",s.data.length," of ",s.total," ",s.total===1?"submission":"submissions"]}),t.jsxs("div",{className:"flex gap-2",children:[s.current_page>1&&t.jsx(p,{variant:"outline",size:"sm",onClick:()=>N.visit(`/photos/submissions?page=${s.current_page-1}`),children:"Previous"}),s.current_page<s.last_page&&t.jsx(p,{variant:"outline",size:"sm",onClick:()=>N.visit(`/photos/submissions?page=${s.current_page+1}`),children:"Next"})]})]})}),e[20]=s.current_page,e[21]=s.data.length,e[22]=s.last_page,e[23]=s.total,e[24]=h):h=e[24];let j;return e[25]!==m||e[26]!==x||e[27]!==h?(j=t.jsxs(F,{children:[u,t.jsxs("div",{className:"mx-auto max-w-6xl space-y-6 p-4",children:[m,x,h]})]}),e[25]=m,e[26]=x,e[27]=h,e[28]=j):j=e[28],j}function I(){return N.visit("/photos")}function T(a,e){const s=document.createElement("a");s.href=a,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s)}function V(){return N.visit("/photos")}export{X as default};
