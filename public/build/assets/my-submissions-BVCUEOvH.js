import{c as I,j as t,a as L,H as K}from"./app-vjamzGlt.js";import{C as B,a as P,b as T,c as G,B as V,d as H}from"./card-D2wJa3nw.js";import{c as R,u as U,g as F,B as D}from"./public-header-C6hcvf9O.js";import{G as q}from"./global-layout-B5AyPaZU.js";import{U as A}from"./upload-Do4pGGp6.js";/* empty css            *//**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],O=R("download",J);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],W=R("image",Q),X=s=>{switch(s){case"approved":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800";case"new":return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-400 dark:border-yellow-800";case"declined":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-800";default:return""}},Y=s=>s<1024?`${s} B`:s<1024*1024?`${(s/1024).toFixed(1)} KB`:`${(s/(1024*1024)).toFixed(2)} MB`,Z=()=>{const s=I.c(20),{t:e}=U("dashboard");let i;s[0]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx("div",{className:"flex size-20 items-center justify-center rounded-full bg-muted",children:t.jsx(W,{className:"size-10 text-muted-foreground"})}),s[0]=i):i=s[0];let l;s[1]!==e?(l=e("mySubmissions.empty"),s[1]=e,s[2]=l):l=s[2];let a;s[3]!==l?(a=t.jsx("h3",{className:"text-lg font-semibold",children:l}),s[3]=l,s[4]=a):a=s[4];let u;s[5]!==e?(u=e("mySubmissions.emptyDescription"),s[5]=e,s[6]=u):u=s[6];let o;s[7]!==u?(o=t.jsx("p",{className:"text-sm text-muted-foreground",children:u}),s[7]=u,s[8]=o):o=s[8];let x;s[9]!==a||s[10]!==o?(x=t.jsxs("div",{className:"mt-6 space-y-2 text-center",children:[a,o]}),s[9]=a,s[10]=o,s[11]=x):x=s[11];let c;s[12]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx(A,{className:"mr-2 size-4"}),s[12]=c):c=s[12];let n;s[13]!==e?(n=e("mySubmissions.uploadFirst"),s[13]=e,s[14]=n):n=s[14];let d;s[15]!==n?(d=t.jsxs(D,{className:"mt-6",onClick:te,size:"lg",children:[c,n]}),s[15]=n,s[16]=d):d=s[16];let m;return s[17]!==x||s[18]!==d?(m=t.jsx(B,{className:"border-dashed",children:t.jsxs(H,{className:"flex flex-col items-center justify-center py-16",children:[i,x,d]})}),s[17]=x,s[18]=d,s[19]=m):m=s[19],m};function oe(s){const e=I.c(58),{submissions:i,remainingSlots:l}=s,{t:a}=U("dashboard"),u=se;let o;e[0]!==a?(o=r=>{switch(r){case"new":return a("mySubmissions.statusPending");case"approved":return a("mySubmissions.statusApproved");case"declined":return a("mySubmissions.statusDeclined");default:return""}},e[0]=a,e[1]=o):o=e[1];const x=o;let c;e[2]!==a?(c=a("mySubmissions.pageTitle"),e[2]=a,e[3]=c):c=e[3];let n;e[4]!==c?(n=t.jsx(K,{title:c}),e[4]=c,e[5]=n):n=e[5];let d;e[6]!==a?(d=a("mySubmissions.heading"),e[6]=a,e[7]=d):d=e[7];let m;e[8]!==d?(m=t.jsx(T,{children:d}),e[8]=d,e[9]=m):m=e[9];let f;e[10]!==a?(f=a("mySubmissions.description"),e[10]=a,e[11]=f):f=e[11];let p;e[12]!==f?(p=t.jsx(G,{children:f}),e[12]=f,e[13]=p):p=e[13];let h;e[14]!==m||e[15]!==p?(h=t.jsxs("div",{children:[m,p]}),e[14]=m,e[15]=p,e[16]=h):h=e[16];const M=l===0?"bg-destructive/10 dark:bg-destructive/20":"bg-primary/10 dark:bg-primary/20";let g;e[17]!==M?(g=F("rounded-lg px-4 py-2 text-center",M),e[17]=M,e[18]=g):g=e[18];let j;e[19]!==a?(j=a("mySubmissions.remainingSlots"),e[19]=a,e[20]=j):j=e[20];let y;e[21]!==j?(y=t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:j}),e[21]=j,e[22]=y):y=e[22];const E=l===0?"text-destructive":"text-primary dark:text-primary";let b;e[23]!==E?(b=F("text-2xl font-bold",E),e[23]=E,e[24]=b):b=e[24];let N;e[25]!==l||e[26]!==b?(N=t.jsxs("p",{className:b,children:[l,"/3"]}),e[25]=l,e[26]=b,e[27]=N):N=e[27];let v;e[28]!==g||e[29]!==y||e[30]!==N?(v=t.jsxs("div",{className:g,children:[y,N]}),e[28]=g,e[29]=y,e[30]=N,e[31]=v):v=e[31];let w;e[32]!==l||e[33]!==a?(w=l>0&&t.jsxs(D,{onClick:ee,children:[t.jsx(A,{className:"mr-2 size-4"}),a("mySubmissions.uploadPhoto")]}),e[32]=l,e[33]=a,e[34]=w):w=e[34];let _;e[35]!==v||e[36]!==w?(_=t.jsxs("div",{className:"flex items-center gap-3",children:[v,w]}),e[35]=v,e[36]=w,e[37]=_):_=e[37];let S;e[38]!==_||e[39]!==h?(S=t.jsx(B,{children:t.jsx(P,{children:t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[h,_]})})}),e[38]=_,e[39]=h,e[40]=S):S=e[40];let k;e[41]!==x||e[42]!==i.data||e[43]!==a?(k=i.data.length===0?t.jsx(Z,{}):t.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:i.data.map(r=>t.jsxs(B,{className:"group overflow-hidden transition-shadow hover:shadow-lg",children:[t.jsx(P,{className:"space-y-3 pb-4",children:t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"flex-1 space-y-1",children:[t.jsx(T,{className:"line-clamp-1 text-base",children:r.original_filename}),t.jsx(G,{className:"text-xs",children:r.fwb_id})]}),t.jsx(V,{className:F("shrink-0 capitalize",X(r.status)),children:r.status})]})}),t.jsxs(H,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2 text-xs text-muted-foreground",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{children:[a("mySubmissions.fileSize"),":"]}),t.jsx("span",{className:"font-medium text-foreground",children:Y(r.file_size)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{children:[a("mySubmissions.uploaded"),":"]}),t.jsx("span",{className:"font-medium text-foreground",children:new Date(r.submitted_at).toLocaleDateString()})]}),r.reviewed_at&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{children:[a("mySubmissions.reviewed"),":"]}),t.jsx("span",{className:"font-medium text-foreground",children:new Date(r.reviewed_at).toLocaleDateString()})]})]}),t.jsxs(D,{variant:"outline",size:"sm",className:"w-full",onClick:()=>u(r.file_url,r.original_filename),children:[t.jsx(O,{className:"mr-2 size-4"}),a("mySubmissions.downloadPhoto")]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:x(r.status)})]})]},r.id))}),e[41]=x,e[42]=i.data,e[43]=a,e[44]=k):k=e[44];let C;e[45]!==i.current_page||e[46]!==i.data.length||e[47]!==i.last_page||e[48]!==i.total||e[49]!==a?(C=i.last_page>1&&t.jsx(B,{children:t.jsxs(H,{className:"flex items-center justify-between py-4",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:a("pagination.showingCount",{count:i.data.length,total:i.total,label:i.total===1?a("pagination.submission"):a("pagination.submissions")})}),t.jsxs("div",{className:"flex gap-2",children:[i.current_page>1&&t.jsx(D,{variant:"outline",size:"sm",onClick:()=>L.visit(`/photos/submissions?page=${i.current_page-1}`),children:a("pagination.previous")}),i.current_page<i.last_page&&t.jsx(D,{variant:"outline",size:"sm",onClick:()=>L.visit(`/photos/submissions?page=${i.current_page+1}`),children:a("pagination.next")})]})]})}),e[45]=i.current_page,e[46]=i.data.length,e[47]=i.last_page,e[48]=i.total,e[49]=a,e[50]=C):C=e[50];let z;e[51]!==S||e[52]!==k||e[53]!==C?(z=t.jsxs("div",{className:"mx-auto max-w-6xl space-y-6 p-4",children:[S,k,C]}),e[51]=S,e[52]=k,e[53]=C,e[54]=z):z=e[54];let $;return e[55]!==z||e[56]!==n?($=t.jsxs(q,{children:[n,z]}),e[55]=z,e[56]=n,e[57]=$):$=e[57],$}function ee(){return L.visit("/photos")}function se(s,e){const i=document.createElement("a");i.href=s,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i)}function te(){return L.visit("/photos")}export{oe as default};
