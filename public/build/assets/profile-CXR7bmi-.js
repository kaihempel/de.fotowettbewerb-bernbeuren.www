import{c as P,r as O,j as r,F as L,u as J,L as K,H as M}from"./app-vjamzGlt.js";import{q as T,u as H,B as E}from"./public-header-C6hcvf9O.js";import{s as W}from"./index-Bbj5WYXo.js";import{H as I,S as X}from"./layout-7YzZZsFJ.js";import{I as C}from"./input-error-BlFppv80.js";import{D as Y,a as Z,b as ee,c as te,d as re,e as se,f as le}from"./dialog-DPK2TbnN.js";import{L as F,I as S,z as ie}from"./label-C7pydSyI.js";import{G as ae}from"./global-layout-B5AyPaZU.js";/* empty css            */import"./index-C6L5Bxug.js";import"./x-nTUJjPCH.js";const p=e=>({url:p.url(e),method:"get"});p.definition={methods:["get","head"],url:"/settings/profile"};p.url=e=>p.definition.url+T(e);p.get=e=>({url:p.url(e),method:"get"});p.head=e=>({url:p.url(e),method:"head"});const k=e=>({action:p.url(e),method:"get"});k.get=e=>({action:p.url(e),method:"get"});k.head=e=>({action:p.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});p.form=k;const y=e=>({url:y.url(e),method:"patch"});y.definition={methods:["patch"],url:"/settings/profile"};y.url=e=>y.definition.url+T(e);y.patch=e=>({url:y.url(e),method:"patch"});const V=e=>({action:y.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});V.patch=e=>({action:y.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});y.form=V;const v=e=>({url:v.url(e),method:"delete"});v.definition={methods:["delete"],url:"/settings/profile"};v.url=e=>v.definition.url+T(e);v.delete=e=>({url:v.url(e),method:"delete"});const R=e=>({action:v.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});R.delete=e=>({action:v.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});v.form=R;const z={update:y,destroy:v};function oe(){const e=P.c(48),t=O.useRef(null),{t:s}=H("settings");let j;e[0]!==s?(j=s("deleteAccount.title"),e[0]=s,e[1]=j):j=e[1];let i;e[2]!==s?(i=s("deleteAccount.description"),e[2]=s,e[3]=i):i=e[3];let l;e[4]!==j||e[5]!==i?(l=r.jsx(I,{title:j,description:i}),e[4]=j,e[5]=i,e[6]=l):l=e[6];let a;e[7]!==s?(a=s("deleteAccount.warning"),e[7]=s,e[8]=a):a=e[8];let o;e[9]!==a?(o=r.jsx("p",{className:"font-medium",children:a}),e[9]=a,e[10]=o):o=e[10];let n;e[11]!==s?(n=s("deleteAccount.warningText"),e[11]=s,e[12]=n):n=e[12];let d;e[13]!==n?(d=r.jsx("p",{className:"text-sm",children:n}),e[13]=n,e[14]=d):d=e[14];let c;e[15]!==o||e[16]!==d?(c=r.jsxs("div",{className:"relative space-y-0.5 text-red-600 dark:text-red-100",children:[o,d]}),e[15]=o,e[16]=d,e[17]=c):c=e[17];let h;e[18]!==s?(h=s("deleteAccount.confirm"),e[18]=s,e[19]=h):h=e[19];let x;e[20]!==h?(x=r.jsx(ee,{asChild:!0,children:r.jsx(E,{variant:"destructive","data-test":"delete-user-button",children:h})}),e[20]=h,e[21]=x):x=e[21];let m;e[22]!==s?(m=s("deleteAccount.confirmTitle"),e[22]=s,e[23]=m):m=e[23];let u;e[24]!==m?(u=r.jsx(te,{children:m}),e[24]=m,e[25]=u):u=e[25];let g;e[26]!==s?(g=s("deleteAccount.confirmDescription"),e[26]=s,e[27]=g):g=e[27];let f;e[28]!==g?(f=r.jsx(re,{children:g}),e[28]=g,e[29]=f):f=e[29];let N,w,A;e[30]===Symbol.for("react.memo_cache_sentinel")?(N=z.destroy.form(),w={preserveScroll:!0},A=()=>t.current?.focus(),e[30]=N,e[31]=w,e[32]=A):(N=e[30],w=e[31],A=e[32]);let _;e[33]!==s?(_=r.jsx(L,{...N,options:w,onError:A,resetOnSuccess:!0,className:"space-y-6",children:B=>{const{resetAndClearErrors:G,processing:U,errors:$}=B;return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(F,{htmlFor:"password",className:"sr-only",children:s("deleteAccount.password")}),r.jsx(S,{id:"password",type:"password",name:"password",ref:t,placeholder:s("deleteAccount.passwordPlaceholder"),autoComplete:"current-password"}),r.jsx(C,{message:$.password})]}),r.jsxs(Y,{className:"gap-2",children:[r.jsx(Z,{asChild:!0,children:r.jsx(E,{variant:"secondary",onClick:()=>G(),children:s("deleteAccount.cancel")})}),r.jsx(E,{variant:"destructive",disabled:U,asChild:!0,children:r.jsx("button",{type:"submit","data-test":"confirm-delete-user-button",children:s("deleteAccount.confirm")})})]})]})}}),e[33]=s,e[34]=_):_=e[34];let b;e[35]!==u||e[36]!==f||e[37]!==_?(b=r.jsxs(se,{children:[u,f,_]}),e[35]=u,e[36]=f,e[37]=_,e[38]=b):b=e[38];let Q;e[39]!==b||e[40]!==x?(Q=r.jsxs(le,{children:[x,b]}),e[39]=b,e[40]=x,e[41]=Q):Q=e[41];let q;e[42]!==Q||e[43]!==c?(q=r.jsxs("div",{className:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10",children:[c,Q]}),e[42]=Q,e[43]=c,e[44]=q):q=e[44];let D;return e[45]!==l||e[46]!==q?(D=r.jsxs("div",{className:"space-y-6",children:[l,q]}),e[45]=l,e[46]=q,e[47]=D):D=e[47],D}function ye(e){const t=P.c(29),{mustVerifyEmail:s,status:j}=e,{auth:i}=J().props,{t:l}=H("settings");let a;t[0]!==l?(a=l("profile.pageTitle"),t[0]=l,t[1]=a):a=t[1];let o;t[2]!==a?(o=r.jsx(M,{title:a}),t[2]=a,t[3]=o):o=t[3];let n;t[4]!==l?(n=l("profile.title"),t[4]=l,t[5]=n):n=t[5];let d;t[6]!==l?(d=l("profile.description"),t[6]=l,t[7]=d):d=t[7];let c;t[8]!==n||t[9]!==d?(c=r.jsx(I,{title:n,description:d}),t[8]=n,t[9]=d,t[10]=c):c=t[10];let h,x;t[11]===Symbol.for("react.memo_cache_sentinel")?(h=z.update.form(),x={preserveScroll:!0},t[11]=h,t[12]=x):(h=t[11],x=t[12]);let m;t[13]!==i.user.email||t[14]!==i.user.email_verified_at||t[15]!==i.user.name||t[16]!==s||t[17]!==j||t[18]!==l?(m=r.jsx(L,{...h,options:x,className:"space-y-6",children:w=>{const{processing:A,recentlySuccessful:_,errors:b}=w;return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(F,{htmlFor:"name",children:l("profile.name")}),r.jsx(S,{id:"name",className:"mt-1 block w-full",defaultValue:i.user.name,name:"name",required:!0,autoComplete:"name",placeholder:l("profile.namePlaceholder")}),r.jsx(C,{className:"mt-2",message:b.name})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(F,{htmlFor:"email",children:l("profile.email")}),r.jsx(S,{id:"email",type:"email",className:"mt-1 block w-full",defaultValue:i.user.email,name:"email",required:!0,autoComplete:"username",placeholder:l("profile.emailPlaceholder")}),r.jsx(C,{className:"mt-2",message:b.email})]}),s&&i.user.email_verified_at===null&&r.jsxs("div",{children:[r.jsxs("p",{className:"-mt-4 text-sm text-muted-foreground",children:[l("profile.emailUnverified")," ",r.jsx(K,{href:W(),as:"button",className:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",children:l("profile.resendVerification")})]}),j==="verification-link-sent"&&r.jsx("div",{className:"mt-2 text-sm font-medium text-green-600",children:l("profile.verificationSent")})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(E,{disabled:A,"data-test":"update-profile-button",children:l("profile.save")}),r.jsx(ie,{show:_,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:r.jsx("p",{className:"text-sm text-neutral-600",children:l("profile.saved")})})]})]})}}),t[13]=i.user.email,t[14]=i.user.email_verified_at,t[15]=i.user.name,t[16]=s,t[17]=j,t[18]=l,t[19]=m):m=t[19];let u;t[20]!==c||t[21]!==m?(u=r.jsxs("div",{className:"space-y-6",children:[c,m]}),t[20]=c,t[21]=m,t[22]=u):u=t[22];let g;t[23]===Symbol.for("react.memo_cache_sentinel")?(g=r.jsx(oe,{}),t[23]=g):g=t[23];let f;t[24]!==u?(f=r.jsx("div",{className:"mx-auto max-w-4xl",children:r.jsxs(X,{children:[u,g]})}),t[24]=u,t[25]=f):f=t[25];let N;return t[26]!==f||t[27]!==o?(N=r.jsxs(ae,{children:[o,f]}),t[26]=f,t[27]=o,t[28]=N):N=t[28],N}export{ye as default};
