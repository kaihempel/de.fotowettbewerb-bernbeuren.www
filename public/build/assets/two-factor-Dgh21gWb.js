import{c as P,j as n,r as o,F as oe,H as Ve}from"./app-D5FN9qVZ.js";import{H as qe,S as Ge}from"./layout-Cm2P_zU3.js";import{c as Ke,B as Q}from"./button-CsRu43-A.js";import{e as X}from"./utils-DPAYgDfm.js";import{a as Qe,b as Xe,c as Ze,C as Je,d as Ue,B as je}from"./card-C3xVj__I.js";import{r as Ye,c as et,d as tt,e as nt}from"./index-CMRe_TTF.js";import{c as L}from"./createLucideIcon-DzMZR0w6.js";import{I as rt}from"./input-error-nkVWU1wk.js";import{e as lt,f as at,g as st,a as ot,D as it}from"./dialog-Cl_D39OH.js";import{O as pe,u as ct}from"./use-two-factor-auth-B_jDE48f.js";import{G as dt}from"./global-layout-BeWeqX2L.js";/* empty css            */import"./index-C1CadkhT.js";import"./index-ClffO-g5.js";import"./x-KYecMIW7.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],pt=L("check",ut);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ce=L("circle-alert",ft);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ht=L("copy",mt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],gt=L("eye-off",xt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yt=L("eye",vt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],jt=L("loader-circle",bt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]],St=L("lock-keyhole",wt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=[["path",{d:"M5 12h14",key:"1ays0h"}]],Nt=L("minus",Ct);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],kt=L("refresh-cw",_t);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],Et=L("scan-line",Tt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m4.243 5.21 14.39 12.472",key:"1c9a7c"}]],Rt=L("shield-ban",Mt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ne=L("shield-check",Pt),$t=Ke("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-background text-foreground",destructive:"text-destructive-foreground [&>svg]:text-current *:data-[slot=alert-description]:text-destructive-foreground/80"}},defaultVariants:{variant:"default"}});function _e(l){const e=P.c(10);let t,r,s;e[0]!==l?({className:t,variant:s,...r}=l,e[0]=l,e[1]=t,e[2]=r,e[3]=s):(t=e[1],r=e[2],s=e[3]);let a;e[4]!==t||e[5]!==s?(a=X($t({variant:s}),t),e[4]=t,e[5]=s,e[6]=a):a=e[6];let i;return e[7]!==r||e[8]!==a?(i=n.jsx("div",{"data-slot":"alert",role:"alert",className:a,...r}),e[7]=r,e[8]=a,e[9]=i):i=e[9],i}function ke(l){const e=P.c(8);let t,r;e[0]!==l?({className:t,...r}=l,e[0]=l,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let s;e[3]!==t?(s=X("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",t),e[3]=t,e[4]=s):s=e[4];let a;return e[5]!==r||e[6]!==s?(a=n.jsx("div",{"data-slot":"alert-title",className:s,...r}),e[5]=r,e[6]=s,e[7]=a):a=e[7],a}function Te(l){const e=P.c(8);let t,r;e[0]!==l?({className:t,...r}=l,e[0]=l,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let s;e[3]!==t?(s=X("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),e[3]=t,e[4]=s):s=e[4];let a;return e[5]!==r||e[6]!==s?(a=n.jsx("div",{"data-slot":"alert-description",className:s,...r}),e[5]=r,e[6]=s,e[7]=a):a=e[7],a}function At(l){const e=P.c(32),{recoveryCodesList:t,fetchRecoveryCodes:r,errors:s}=l,[a,i]=o.useState(!1),p=o.useRef(null),d=t.length>0&&a;let y;e[0]!==a||e[1]!==r||e[2]!==t.length?(y=async()=>{!a&&!t.length&&await r(),i(!a),a||setTimeout(()=>{p.current?.scrollIntoView({behavior:"smooth",block:"nearest"})})},e[0]=a,e[1]=r,e[2]=t.length,e[3]=y):y=e[3];const g=y;let h,m;e[4]!==r||e[5]!==t.length?(h=()=>{t.length||r()},m=[t.length,r],e[4]=r,e[5]=t.length,e[6]=h,e[7]=m):(h=e[6],m=e[7]),o.useEffect(h,m);const v=a?gt:yt;let x;e[8]===Symbol.for("react.memo_cache_sentinel")?(x=n.jsxs(Qe,{children:[n.jsxs(Xe,{className:"flex gap-3",children:[n.jsx(St,{className:"size-4","aria-hidden":"true"}),"2FA Recovery Codes"]}),n.jsx(Ze,{children:"Recovery codes let you regain access if you lose your 2FA device. Store them in a secure password manager."})]}),e[8]=x):x=e[8];let b;e[9]!==v?(b=n.jsx(v,{className:"size-4","aria-hidden":"true"}),e[9]=v,e[10]=b):b=e[10];const N=a?"Hide":"View";let f;e[11]!==a||e[12]!==b||e[13]!==N||e[14]!==g?(f=n.jsxs(Q,{onClick:g,className:"w-fit","aria-expanded":a,"aria-controls":"recovery-codes-section",children:[b,N," Recovery Codes"]}),e[11]=a,e[12]=b,e[13]=N,e[14]=g,e[15]=f):f=e[15];let S;e[16]!==d||e[17]!==r?(S=d&&n.jsx(oe,{...Ye.form(),options:{preserveScroll:!0},onSuccess:r,children:It}),e[16]=d,e[17]=r,e[18]=S):S=e[18];let _;e[19]!==f||e[20]!==S?(_=n.jsxs("div",{className:"flex flex-col gap-3 select-none sm:flex-row sm:items-center sm:justify-between",children:[f,S]}),e[19]=f,e[20]=S,e[21]=_):_=e[21];const k=`relative overflow-hidden transition-all duration-300 ${a?"h-auto opacity-100":"h-0 opacity-0"}`,E=!a;let F;e[22]!==s||e[23]!==t?(F=n.jsx("div",{className:"mt-3 space-y-3",children:s?.length?n.jsxs(_e,{variant:"destructive",children:[n.jsx(Ce,{}),n.jsx(ke,{children:"Something went wrong."}),n.jsx(Te,{children:n.jsx("ul",{className:"list-inside list-disc text-sm",children:Array.from(new Set(s)).map(Dt)})})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{ref:p,className:"grid gap-1 rounded-lg bg-muted p-4 font-mono text-sm",role:"list","aria-label":"Recovery codes",children:t.length?t.map(Ot):n.jsx("div",{className:"space-y-2","aria-label":"Loading recovery codes",children:Array.from({length:8},Ft)})}),n.jsx("div",{className:"text-xs text-muted-foreground select-none",children:n.jsxs("p",{id:"regenerate-warning",children:["Each recovery code can be used once to access your account and will be removed after use. If you need more, click"," ",n.jsx("span",{className:"font-bold",children:"Regenerate Codes"})," above."]})})]})}),e[22]=s,e[23]=t,e[24]=F):F=e[24];let M;e[25]!==k||e[26]!==E||e[27]!==F?(M=n.jsx("div",{id:"recovery-codes-section",className:k,"aria-hidden":E,children:F}),e[25]=k,e[26]=E,e[27]=F,e[28]=M):M=e[28];let H;return e[29]!==M||e[30]!==_?(H=n.jsxs(Je,{children:[x,n.jsxs(Ue,{children:[_,M]})]}),e[29]=M,e[30]=_,e[31]=H):H=e[31],H}function Ft(l,e){return n.jsx("div",{className:"h-4 animate-pulse rounded bg-muted-foreground/20","aria-hidden":"true"},e)}function Ot(l,e){return n.jsx("div",{role:"listitem",className:"select-text",children:l},e)}function Dt(l,e){return n.jsx("li",{children:l},e)}function It(l){const{processing:e}=l;return n.jsxs(Q,{variant:"secondary",type:"submit",disabled:e,"aria-describedby":"regenerate-warning",children:[n.jsx(kt,{})," Regenerate Codes"]})}var Bt=Object.defineProperty,Lt=Object.defineProperties,Ht=Object.getOwnPropertyDescriptors,ie=Object.getOwnPropertySymbols,Ee=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable,we=(l,e,t)=>e in l?Bt(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,zt=(l,e)=>{for(var t in e||(e={}))Ee.call(e,t)&&we(l,t,e[t]);if(ie)for(var t of ie(e))Me.call(e,t)&&we(l,t,e[t]);return l},Wt=(l,e)=>Lt(l,Ht(e)),Vt=(l,e)=>{var t={};for(var r in l)Ee.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&ie)for(var r of ie(l))e.indexOf(r)<0&&Me.call(l,r)&&(t[r]=l[r]);return t};function qt(l){let e=setTimeout(l,0),t=setTimeout(l,10),r=setTimeout(l,50);return[e,t,r]}function Gt(l){let e=o.useRef();return o.useEffect(()=>{e.current=l}),e.current}var Kt=18,Re=40,Qt=`${Re}px`,Xt=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function Zt({containerRef:l,inputRef:e,pushPasswordManagerStrategy:t,isFocused:r}){let[s,a]=o.useState(!1),[i,p]=o.useState(!1),[d,y]=o.useState(!1),g=o.useMemo(()=>t==="none"?!1:(t==="increase-width"||t==="experimental-no-flickering")&&s&&i,[s,i,t]),h=o.useCallback(()=>{let m=l.current,v=e.current;if(!m||!v||d||t==="none")return;let x=m,b=x.getBoundingClientRect().left+x.offsetWidth,N=x.getBoundingClientRect().top+x.offsetHeight/2,f=b-Kt,S=N;document.querySelectorAll(Xt).length===0&&document.elementFromPoint(f,S)===m||(a(!0),y(!0))},[l,e,d,t]);return o.useEffect(()=>{let m=l.current;if(!m||t==="none")return;function v(){let b=window.innerWidth-m.getBoundingClientRect().right;p(b>=Re)}v();let x=setInterval(v,1e3);return()=>{clearInterval(x)}},[l,t]),o.useEffect(()=>{let m=r||document.activeElement===e.current;if(t==="none"||!m)return;let v=setTimeout(h,0),x=setTimeout(h,2e3),b=setTimeout(h,5e3),N=setTimeout(()=>{y(!0)},6e3);return()=>{clearTimeout(v),clearTimeout(x),clearTimeout(b),clearTimeout(N)}},[e,r,t,h]),{hasPWMBadge:s,willPushPWMBadge:g,PWM_BADGE_SPACE_WIDTH:Qt}}var Pe=o.createContext({}),$e=o.forwardRef((l,e)=>{var t=l,{value:r,onChange:s,maxLength:a,textAlign:i="left",pattern:p,placeholder:d,inputMode:y="numeric",onComplete:g,pushPasswordManagerStrategy:h="increase-width",pasteTransformer:m,containerClassName:v,noScriptCSSFallback:x=Jt,render:b,children:N}=t,f=Vt(t,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),S,_,k,E,F;let[M,H]=o.useState(typeof f.defaultValue=="string"?f.defaultValue:""),j=r??M,$=Gt(j),D=o.useCallback(c=>{s?.(c),H(c)},[s]),T=o.useMemo(()=>p?typeof p=="string"?new RegExp(p):p:null,[p]),w=o.useRef(null),q=o.useRef(null),W=o.useRef({value:j,onChange:D,isIOS:typeof window<"u"&&((_=(S=window?.CSS)==null?void 0:S.supports)==null?void 0:_.call(S,"-webkit-touch-callout","none"))}),A=o.useRef({prev:[(k=w.current)==null?void 0:k.selectionStart,(E=w.current)==null?void 0:E.selectionEnd,(F=w.current)==null?void 0:F.selectionDirection]});o.useImperativeHandle(e,()=>w.current,[]),o.useEffect(()=>{let c=w.current,u=q.current;if(!c||!u)return;W.current.value!==c.value&&W.current.onChange(c.value),A.current.prev=[c.selectionStart,c.selectionEnd,c.selectionDirection];function R(){if(document.activeElement!==c){re(null),le(null);return}let C=c.selectionStart,O=c.selectionEnd,se=c.selectionDirection,z=c.maxLength,J=c.value,V=A.current.prev,G=-1,K=-1,U;if(J.length!==0&&C!==null&&O!==null){let He=C===O,ze=C===J.length&&J.length<z;if(He&&!ze){let Y=C;if(Y===0)G=0,K=1,U="forward";else if(Y===z)G=Y-1,K=Y,U="backward";else if(z>1&&J.length>1){let ue=0;if(V[0]!==null&&V[1]!==null){U=Y<V[1]?"backward":"forward";let We=V[0]===V[1]&&V[0]<z;U==="backward"&&!We&&(ue=-1)}G=ue+Y,K=ue+Y+1}}G!==-1&&K!==-1&&G!==K&&w.current.setSelectionRange(G,K,U)}let ye=G!==-1?G:C,be=K!==-1?K:O,Le=U??se;re(ye),le(be),A.current.prev=[ye,be,Le]}if(document.addEventListener("selectionchange",R,{capture:!0}),R(),document.activeElement===c&&ce(!0),!document.getElementById("input-otp-style")){let C=document.createElement("style");if(C.id="input-otp-style",document.head.appendChild(C),C.sheet){let O="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";ae(C.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),ae(C.sheet,`[data-input-otp]:autofill { ${O} }`),ae(C.sheet,`[data-input-otp]:-webkit-autofill { ${O} }`),ae(C.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),ae(C.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let I=()=>{u&&u.style.setProperty("--root-height",`${c.clientHeight}px`)};I();let B=new ResizeObserver(I);return B.observe(c),()=>{document.removeEventListener("selectionchange",R,{capture:!0}),B.disconnect()}},[]);let[fe,me]=o.useState(!1),[ne,ce]=o.useState(!1),[Z,re]=o.useState(null),[ee,le]=o.useState(null);o.useEffect(()=>{qt(()=>{var c,u,R,I;(c=w.current)==null||c.dispatchEvent(new Event("input"));let B=(u=w.current)==null?void 0:u.selectionStart,C=(R=w.current)==null?void 0:R.selectionEnd,O=(I=w.current)==null?void 0:I.selectionDirection;B!==null&&C!==null&&(re(B),le(C),A.current.prev=[B,C,O])})},[j,ne]),o.useEffect(()=>{$!==void 0&&j!==$&&$.length<a&&j.length===a&&g?.(j)},[a,g,$,j]);let te=Zt({containerRef:q,inputRef:w,pushPasswordManagerStrategy:h,isFocused:ne}),he=o.useCallback(c=>{let u=c.currentTarget.value.slice(0,a);if(u.length>0&&T&&!T.test(u)){c.preventDefault();return}typeof $=="string"&&u.length<$.length&&document.dispatchEvent(new Event("selectionchange")),D(u)},[a,D,$,T]),xe=o.useCallback(()=>{var c;if(w.current){let u=Math.min(w.current.value.length,a-1),R=w.current.value.length;(c=w.current)==null||c.setSelectionRange(u,R),re(u),le(R)}ce(!0)},[a]),ge=o.useCallback(c=>{var u,R;let I=w.current;if(!m&&(!W.current.isIOS||!c.clipboardData||!I))return;let B=c.clipboardData.getData("text/plain"),C=m?m(B):B;c.preventDefault();let O=(u=w.current)==null?void 0:u.selectionStart,se=(R=w.current)==null?void 0:R.selectionEnd,z=(O!==se?j.slice(0,O)+C+j.slice(se):j.slice(0,O)+C+j.slice(O)).slice(0,a);if(z.length>0&&T&&!T.test(z))return;I.value=z,D(z);let J=Math.min(z.length,a-1),V=z.length;I.setSelectionRange(J,V),re(J),le(V)},[a,D,T,j]),De=o.useMemo(()=>({position:"relative",cursor:f.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[f.disabled]),ve=o.useMemo(()=>({position:"absolute",inset:0,width:te.willPushPWMBadge?`calc(100% + ${te.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:te.willPushPWMBadge?`inset(0 ${te.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:i,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[te.PWM_BADGE_SPACE_WIDTH,te.willPushPWMBadge,i]),Ie=o.useMemo(()=>o.createElement("input",Wt(zt({autoComplete:f.autoComplete||"one-time-code"},f),{"data-input-otp":!0,"data-input-otp-placeholder-shown":j.length===0||void 0,"data-input-otp-mss":Z,"data-input-otp-mse":ee,inputMode:y,pattern:T?.source,"aria-placeholder":d,style:ve,maxLength:a,value:j,ref:w,onPaste:c=>{var u;ge(c),(u=f.onPaste)==null||u.call(f,c)},onChange:he,onMouseOver:c=>{var u;me(!0),(u=f.onMouseOver)==null||u.call(f,c)},onMouseLeave:c=>{var u;me(!1),(u=f.onMouseLeave)==null||u.call(f,c)},onFocus:c=>{var u;xe(),(u=f.onFocus)==null||u.call(f,c)},onBlur:c=>{var u;ce(!1),(u=f.onBlur)==null||u.call(f,c)}})),[he,xe,ge,y,ve,a,ee,Z,f,T?.source,j]),de=o.useMemo(()=>({slots:Array.from({length:a}).map((c,u)=>{var R;let I=ne&&Z!==null&&ee!==null&&(Z===ee&&u===Z||u>=Z&&u<ee),B=j[u]!==void 0?j[u]:null,C=j[0]!==void 0?null:(R=d?.[u])!=null?R:null;return{char:B,placeholderChar:C,isActive:I,hasFakeCaret:I&&B===null}}),isFocused:ne,isHovering:!f.disabled&&fe}),[ne,fe,a,ee,Z,f.disabled,j]),Be=o.useMemo(()=>b?b(de):o.createElement(Pe.Provider,{value:de},N),[N,de,b]);return o.createElement(o.Fragment,null,x!==null&&o.createElement("noscript",null,o.createElement("style",null,x)),o.createElement("div",{ref:q,"data-input-otp-container":!0,style:De,className:v},Be,o.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Ie)))});$e.displayName="Input";function ae(l,e){try{l.insertRule(e)}catch{console.error("input-otp could not insert CSS rule:",e)}}var Jt=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`,Ut="^\\d+$";const Ae=o.forwardRef((l,e)=>{const t=P.c(13);let r,s,a;t[0]!==l?({className:r,containerClassName:s,...a}=l,t[0]=l,t[1]=r,t[2]=s,t[3]=a):(r=t[1],s=t[2],a=t[3]);let i;t[4]!==s?(i=X("flex items-center gap-2 has-[:disabled]:opacity-50",s),t[4]=s,t[5]=i):i=t[5];let p;t[6]!==r?(p=X("disabled:cursor-not-allowed",r),t[6]=r,t[7]=p):p=t[7];let d;return t[8]!==a||t[9]!==e||t[10]!==i||t[11]!==p?(d=n.jsx($e,{ref:e,containerClassName:i,className:p,...a}),t[8]=a,t[9]=e,t[10]=i,t[11]=p,t[12]=d):d=t[12],d});Ae.displayName="InputOTP";const Fe=o.forwardRef((l,e)=>{const t=P.c(9);let r,s;t[0]!==l?({className:r,...s}=l,t[0]=l,t[1]=r,t[2]=s):(r=t[1],s=t[2]);let a;t[3]!==r?(a=X("flex items-center",r),t[3]=r,t[4]=a):a=t[4];let i;return t[5]!==s||t[6]!==e||t[7]!==a?(i=n.jsx("div",{ref:e,className:a,...s}),t[5]=s,t[6]=e,t[7]=a,t[8]=i):i=t[8],i});Fe.displayName="InputOTPGroup";const Oe=o.forwardRef((l,e)=>{const t=P.c(15);let r,s,a;t[0]!==l?({index:s,className:r,...a}=l,t[0]=l,t[1]=r,t[2]=s,t[3]=a):(r=t[1],s=t[2],a=t[3]);const i=o.useContext(Pe),{char:p,hasFakeCaret:d,isActive:y}=i.slots[s],g=y&&"z-10 ring-1 ring-ring";let h;t[4]!==r||t[5]!==g?(h=X("relative flex h-9 w-9 items-center justify-center border-y border-r border-input text-sm shadow-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",g,r),t[4]=r,t[5]=g,t[6]=h):h=t[6];let m;t[7]!==d?(m=d&&n.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})}),t[7]=d,t[8]=m):m=t[8];let v;return t[9]!==p||t[10]!==a||t[11]!==e||t[12]!==h||t[13]!==m?(v=n.jsxs("div",{ref:e,className:h,...a,children:[p,m]}),t[9]=p,t[10]=a,t[11]=e,t[12]=h,t[13]=m,t[14]=v):v=t[14],v});Oe.displayName="InputOTPSlot";const Yt=o.forwardRef((l,e)=>{const t=P.c(6);let r;t[0]!==l?({...r}=l,t[0]=l,t[1]=r):r=t[1];let s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=n.jsx(Nt,{}),t[2]=s):s=t[2];let a;return t[3]!==r||t[4]!==e?(a=n.jsx("div",{ref:e,role:"separator",...r,children:s}),t[3]=r,t[4]=e,t[5]=a):a=t[5],a});Yt.displayName="InputOTPSeparator";function en(){const l=P.c(3),[e,t]=o.useState(null);let r;l[0]===Symbol.for("react.memo_cache_sentinel")?(r=async i=>{if(!navigator?.clipboard)return console.warn("Clipboard not supported"),!1;try{return await navigator.clipboard.writeText(i),t(i),!0}catch(p){return console.warn("Copy failed",p),t(null),!1}},l[0]=r):r=l[0];const s=r;let a;return l[1]!==e?(a=[e,s],l[1]=e,l[2]=a):a=l[2],a}function Se(l){const e=P.c(8);let t,r;e[0]!==l?({className:t,...r}=l,e[0]=l,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let s;e[3]!==t?(s=X("size-4 animate-spin",t),e[3]=t,e[4]=s):s=e[4];let a;return e[5]!==r||e[6]!==s?(a=n.jsx(jt,{role:"status","aria-label":"Loading",className:s,...r}),e[5]=r,e[6]=s,e[7]=a):a=e[7],a}function tn(){const l=P.c(2);let e;l[0]===Symbol.for("react.memo_cache_sentinel")?(e=n.jsx("div",{className:"absolute inset-0 grid grid-cols-5 opacity-50",children:Array.from({length:5},rn)}),l[0]=e):e=l[0];let t;return l[1]===Symbol.for("react.memo_cache_sentinel")?(t=n.jsx("div",{className:"mb-3 rounded-full border border-border bg-card p-0.5 shadow-sm",children:n.jsxs("div",{className:"relative overflow-hidden rounded-full border border-border bg-muted p-2.5",children:[e,n.jsx("div",{className:"absolute inset-0 grid grid-rows-5 opacity-50",children:Array.from({length:5},nn)}),n.jsx(Et,{className:"relative z-20 size-6 text-foreground"})]})}),l[1]=t):t=l[1],t}function nn(l,e){return n.jsx("div",{className:"border-b border-border last:border-b-0"},`row-${e+1}`)}function rn(l,e){return n.jsx("div",{className:"border-r border-border last:border-r-0"},`col-${e+1}`)}function ln(l){const e=P.c(8),{qrCodeSvg:t,manualSetupKey:r,buttonText:s,onNextStep:a,errors:i}=l,[p,d]=en(),y=p===r?pt:ht;let g;return e[0]!==y||e[1]!==s||e[2]!==d||e[3]!==i||e[4]!==r||e[5]!==a||e[6]!==t?(g=n.jsx(n.Fragment,{children:i?.length?n.jsxs(_e,{variant:"destructive",children:[n.jsx(Ce,{}),n.jsx(ke,{children:"Something went wrong."}),n.jsx(Te,{children:n.jsx("ul",{className:"list-inside list-disc text-sm",children:Array.from(new Set(i)).map(an)})})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mx-auto flex max-w-md overflow-hidden",children:n.jsx("div",{className:"mx-auto aspect-square w-64 rounded-lg border border-border",children:n.jsx("div",{className:"z-10 flex h-full w-full items-center justify-center p-5",children:t?n.jsx("div",{dangerouslySetInnerHTML:{__html:t}}):n.jsx(Se,{})})})}),n.jsx("div",{className:"flex w-full space-x-5",children:n.jsx(Q,{className:"w-full",onClick:a,children:s})}),n.jsxs("div",{className:"relative flex w-full items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 top-1/2 h-px w-full bg-border"}),n.jsx("span",{className:"relative bg-card px-2 py-1",children:"or, enter the code manually"})]}),n.jsx("div",{className:"flex w-full space-x-2",children:n.jsx("div",{className:"flex w-full items-stretch overflow-hidden rounded-xl border border-border",children:r?n.jsxs(n.Fragment,{children:[n.jsx("input",{type:"text",readOnly:!0,value:r,className:"h-full w-full bg-background p-3 text-foreground outline-none"}),n.jsx("button",{onClick:()=>d(r),className:"border-l border-border px-3 hover:bg-muted",children:n.jsx(y,{className:"w-4"})})]}):n.jsx("div",{className:"flex h-full w-full items-center justify-center bg-muted p-3",children:n.jsx(Se,{})})})})]})}),e[0]=y,e[1]=s,e[2]=d,e[3]=i,e[4]=r,e[5]=a,e[6]=t,e[7]=g):g=e[7],g}function an(l,e){return n.jsx("li",{children:l},e)}function sn(l){const e=P.c(11),{onClose:t,onBack:r}=l,[s,a]=o.useState(""),i=o.useRef(null);let p,d;e[0]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{setTimeout(()=>{i.current?.querySelector("input")?.focus()},0)},d=[],e[0]=p,e[1]=d):(p=e[0],d=e[1]),o.useEffect(p,d);let y;e[2]===Symbol.for("react.memo_cache_sentinel")?(y=et.form(),e[2]=y):y=e[2];let g;e[3]!==t?(g=()=>t(),e[3]=t,e[4]=g):g=e[4];let h;e[5]!==s||e[6]!==r?(h=v=>{const{processing:x,errors:b}=v;return n.jsx(n.Fragment,{children:n.jsxs("div",{ref:i,className:"relative w-full space-y-3",children:[n.jsxs("div",{className:"flex w-full flex-col items-center space-y-3 py-2",children:[n.jsx(Ae,{id:"otp",name:"code",maxLength:pe,onChange:a,disabled:x,pattern:Ut,children:n.jsx(Fe,{children:Array.from({length:pe},on)})}),n.jsx(rt,{message:b?.confirmTwoFactorAuthentication?.code})]}),n.jsxs("div",{className:"flex w-full space-x-5",children:[n.jsx(Q,{type:"button",variant:"outline",className:"flex-1",onClick:r,disabled:x,children:"Back"}),n.jsx(Q,{type:"submit",className:"flex-1",disabled:x||s.length<pe,children:"Confirm"})]})]})})},e[5]=s,e[6]=r,e[7]=h):h=e[7];let m;return e[8]!==g||e[9]!==h?(m=n.jsx(oe,{...y,onSuccess:g,resetOnError:!0,resetOnSuccess:!0,children:h}),e[8]=g,e[9]=h,e[10]=m):m=e[10],m}function on(l,e){return n.jsx(Oe,{index:e},e)}function cn(l){const e=P.c(43),{isOpen:t,onClose:r,requiresConfirmation:s,twoFactorEnabled:a,qrCodeSvg:i,manualSetupKey:p,clearSetupData:d,fetchSetupData:y,errors:g}=l,[h,m]=o.useState(!1);let v;e:{if(a){let A;e[0]===Symbol.for("react.memo_cache_sentinel")?(A={title:"Two-Factor Authentication Enabled",description:"Two-factor authentication is now enabled. Scan the QR code or enter the setup key in your authenticator app.",buttonText:"Close"},e[0]=A):A=e[0],v=A;break e}if(h){let A;e[1]===Symbol.for("react.memo_cache_sentinel")?(A={title:"Verify Authentication Code",description:"Enter the 6-digit code from your authenticator app",buttonText:"Continue"},e[1]=A):A=e[1],v=A;break e}let W;e[2]===Symbol.for("react.memo_cache_sentinel")?(W={title:"Enable Two-Factor Authentication",description:"To finish enabling two-factor authentication, scan the QR code or enter the setup key in your authenticator app",buttonText:"Continue"},e[2]=W):W=e[2],v=W}const x=v;let b;e[3]!==d||e[4]!==r||e[5]!==s?(b=()=>{if(s){m(!0);return}d(),r()},e[3]=d,e[4]=r,e[5]=s,e[6]=b):b=e[6];const N=b;let f;e[7]!==d||e[8]!==a?(f=()=>{m(!1),a&&d()},e[7]=d,e[8]=a,e[9]=f):f=e[9];const S=f;let _,k;e[10]!==y||e[11]!==t||e[12]!==i?(_=()=>{t&&!i&&y()},k=[t,i,y],e[10]=y,e[11]=t,e[12]=i,e[13]=_,e[14]=k):(_=e[13],k=e[14]),o.useEffect(_,k);let E;e[15]!==r||e[16]!==S?(E=()=>{S(),r()},e[15]=r,e[16]=S,e[17]=E):E=e[17];const F=E;let M;e[18]!==F?(M=W=>!W&&F(),e[18]=F,e[19]=M):M=e[19];let H;e[20]===Symbol.for("react.memo_cache_sentinel")?(H=n.jsx(tn,{}),e[20]=H):H=e[20];let j;e[21]!==x.title?(j=n.jsx(lt,{children:x.title}),e[21]=x.title,e[22]=j):j=e[22];let $;e[23]!==x.description?($=n.jsx(at,{className:"text-center",children:x.description}),e[23]=x.description,e[24]=$):$=e[24];let D;e[25]!==$||e[26]!==j?(D=n.jsxs(st,{className:"flex items-center justify-center",children:[H,j,$]}),e[25]=$,e[26]=j,e[27]=D):D=e[27];let T;e[28]!==g||e[29]!==N||e[30]!==p||e[31]!==x.buttonText||e[32]!==r||e[33]!==i||e[34]!==h?(T=n.jsx("div",{className:"flex flex-col items-center space-y-5",children:h?n.jsx(sn,{onClose:r,onBack:()=>m(!1)}):n.jsx(ln,{qrCodeSvg:i,manualSetupKey:p,buttonText:x.buttonText,onNextStep:N,errors:g})}),e[28]=g,e[29]=N,e[30]=p,e[31]=x.buttonText,e[32]=r,e[33]=i,e[34]=h,e[35]=T):T=e[35];let w;e[36]!==D||e[37]!==T?(w=n.jsxs(ot,{className:"sm:max-w-md",children:[D,T]}),e[36]=D,e[37]=T,e[38]=w):w=e[38];let q;return e[39]!==t||e[40]!==w||e[41]!==M?(q=n.jsx(it,{open:t,onOpenChange:M,children:w}),e[39]=t,e[40]=w,e[41]=M,e[42]=q):q=e[42],q}function kn(l){const e=P.c(21),{requiresConfirmation:t,twoFactorEnabled:r}=l,s=t===void 0?!1:t,a=r===void 0?!1:r,{qrCodeSvg:i,hasSetupData:p,manualSetupKey:d,clearSetupData:y,fetchSetupData:g,recoveryCodesList:h,fetchRecoveryCodes:m,errors:v}=ct(),[x,b]=o.useState(!1);let N;e[0]===Symbol.for("react.memo_cache_sentinel")?(N=n.jsx(Ve,{title:"Two-Factor Authentication"}),e[0]=N):N=e[0];let f;e[1]===Symbol.for("react.memo_cache_sentinel")?(f=n.jsx(qe,{title:"Two-Factor Authentication",description:"Manage your two-factor authentication settings"}),e[1]=f):f=e[1];let S;e[2]!==v||e[3]!==m||e[4]!==p||e[5]!==h||e[6]!==a?(S=a?n.jsxs("div",{className:"flex flex-col items-start justify-start space-y-4",children:[n.jsx(je,{variant:"default",children:"Enabled"}),n.jsx("p",{className:"text-muted-foreground",children:"With two-factor authentication enabled, you will be prompted for a secure, random pin during login, which you can retrieve from the TOTP-supported application on your phone."}),n.jsx(At,{recoveryCodesList:h,fetchRecoveryCodes:m,errors:v}),n.jsx("div",{className:"relative inline",children:n.jsx(oe,{...tt.form(),children:un})})]}):n.jsxs("div",{className:"flex flex-col items-start justify-start space-y-4",children:[n.jsx(je,{variant:"destructive",children:"Disabled"}),n.jsx("p",{className:"text-muted-foreground",children:"When you enable two-factor authentication, you will be prompted for a secure pin during login. This pin can be retrieved from a TOTP-supported application on your phone."}),n.jsx("div",{children:p?n.jsxs(Q,{onClick:()=>b(!0),children:[n.jsx(Ne,{}),"Continue Setup"]}):n.jsx(oe,{...nt.form(),onSuccess:()=>b(!0),children:dn})})]}),e[2]=v,e[3]=m,e[4]=p,e[5]=h,e[6]=a,e[7]=S):S=e[7];let _;e[8]===Symbol.for("react.memo_cache_sentinel")?(_=()=>b(!1),e[8]=_):_=e[8];let k;e[9]!==y||e[10]!==v||e[11]!==g||e[12]!==d||e[13]!==i||e[14]!==s||e[15]!==x||e[16]!==a?(k=n.jsx(cn,{isOpen:x,onClose:_,requiresConfirmation:s,twoFactorEnabled:a,qrCodeSvg:i,manualSetupKey:d,clearSetupData:y,fetchSetupData:g,errors:v}),e[9]=y,e[10]=v,e[11]=g,e[12]=d,e[13]=i,e[14]=s,e[15]=x,e[16]=a,e[17]=k):k=e[17];let E;return e[18]!==S||e[19]!==k?(E=n.jsxs(dt,{children:[N,n.jsx("div",{className:"mx-auto max-w-4xl",children:n.jsx(Ge,{children:n.jsxs("div",{className:"space-y-6",children:[f,S,k]})})})]}),e[18]=S,e[19]=k,e[20]=E):E=e[20],E}function dn(l){const{processing:e}=l;return n.jsxs(Q,{type:"submit",disabled:e,children:[n.jsx(Ne,{}),"Enable 2FA"]})}function un(l){const{processing:e}=l;return n.jsxs(Q,{variant:"destructive",type:"submit",disabled:e,children:[n.jsx(Rt,{})," Disable 2FA"]})}export{kn as default};
