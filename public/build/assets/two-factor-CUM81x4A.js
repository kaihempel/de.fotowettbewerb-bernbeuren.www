import{c as H,j as r,r as c,F as de,H as qe}from"./app-vjamzGlt.js";import{H as Ge,S as Ke}from"./layout-7YzZZsFJ.js";import{c as K,g as re,v as Xe,u as he,B as te}from"./public-header-C6hcvf9O.js";import{b as Ze,c as Je,a as Qe,d as Ue,C as Ye,B as we}from"./card-D2wJa3nw.js";import{r as et,c as tt,d as rt,e as lt}from"./index-C6L5Bxug.js";import{I as nt}from"./input-error-BlFppv80.js";import{c as st,d as at,g as ot,e as it,f as ct}from"./dialog-DPK2TbnN.js";import{O as me,u as dt}from"./use-two-factor-auth-YmfWNwtT.js";import{G as ut}from"./global-layout-B5AyPaZU.js";/* empty css            */import"./x-nTUJjPCH.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ft=K("check",pt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ke=K("circle-alert",mt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],xt=K("copy",ht);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],gt=K("eye-off",vt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bt=K("eye",yt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],wt=K("loader-circle",jt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]],Ct=K("lock-keyhole",St);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=[["path",{d:"M5 12h14",key:"1ays0h"}]],kt=K("minus",Nt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Tt=K("refresh-cw",_t);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],Mt=K("scan-line",Et);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m4.243 5.21 14.39 12.472",key:"1c9a7c"}]],Pt=K("shield-ban",Ft);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Se=K("shield-check",Rt),$t=Xe("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-background text-foreground",destructive:"text-destructive-foreground [&>svg]:text-current *:data-[slot=alert-description]:text-destructive-foreground/80"}},defaultVariants:{variant:"default"}});function _e(s){const e=H.c(10);let t,l,a;e[0]!==s?({className:t,variant:a,...l}=s,e[0]=s,e[1]=t,e[2]=l,e[3]=a):(t=e[1],l=e[2],a=e[3]);let n;e[4]!==t||e[5]!==a?(n=re($t({variant:a}),t),e[4]=t,e[5]=a,e[6]=n):n=e[6];let o;return e[7]!==l||e[8]!==n?(o=r.jsx("div",{"data-slot":"alert",role:"alert",className:n,...l}),e[7]=l,e[8]=n,e[9]=o):o=e[9],o}function Te(s){const e=H.c(8);let t,l;e[0]!==s?({className:t,...l}=s,e[0]=s,e[1]=t,e[2]=l):(t=e[1],l=e[2]);let a;e[3]!==t?(a=re("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==l||e[6]!==a?(n=r.jsx("div",{"data-slot":"alert-title",className:a,...l}),e[5]=l,e[6]=a,e[7]=n):n=e[7],n}function Ee(s){const e=H.c(8);let t,l;e[0]!==s?({className:t,...l}=s,e[0]=s,e[1]=t,e[2]=l):(t=e[1],l=e[2]);let a;e[3]!==t?(a=re("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==l||e[6]!==a?(n=r.jsx("div",{"data-slot":"alert-description",className:a,...l}),e[5]=l,e[6]=a,e[7]=n):n=e[7],n}function Dt(s){const e=H.c(51),{recoveryCodesList:t,fetchRecoveryCodes:l,errors:a}=s,{t:n}=he("auth"),[o,v]=c.useState(!1),x=c.useRef(null),C=t.length>0&&o;let b;e[0]!==o||e[1]!==l||e[2]!==t.length?(b=async()=>{!o&&!t.length&&await l(),v(!o),o||setTimeout(()=>{x.current?.scrollIntoView({behavior:"smooth",block:"nearest"})})},e[0]=o,e[1]=l,e[2]=t.length,e[3]=b):b=e[3];const i=b;let d,g;e[4]!==l||e[5]!==t.length?(d=()=>{t.length||l()},g=[t.length,l],e[4]=l,e[5]=t.length,e[6]=d,e[7]=g):(d=e[6],g=e[7]),c.useEffect(d,g);const w=o?gt:bt;let j;e[8]===Symbol.for("react.memo_cache_sentinel")?(j=r.jsx(Ct,{className:"size-4","aria-hidden":"true"}),e[8]=j):j=e[8];let p;e[9]!==n?(p=n("recoveryCodes.title"),e[9]=n,e[10]=p):p=e[10];let f;e[11]!==p?(f=r.jsxs(Ze,{className:"flex gap-3",children:[j,p]}),e[11]=p,e[12]=f):f=e[12];let N;e[13]!==n?(N=n("recoveryCodes.description"),e[13]=n,e[14]=N):N=e[14];let R;e[15]!==N?(R=r.jsx(Je,{children:N}),e[15]=N,e[16]=R):R=e[16];let E;e[17]!==f||e[18]!==R?(E=r.jsxs(Qe,{children:[f,R]}),e[17]=f,e[18]=R,e[19]=E):E=e[19];let M;e[20]!==w?(M=r.jsx(w,{className:"size-4","aria-hidden":"true"}),e[20]=w,e[21]=M):M=e[21];let F;e[22]!==o||e[23]!==n?(F=n(o?"recoveryCodes.hideCodes":"recoveryCodes.viewCodes"),e[22]=o,e[23]=n,e[24]=F):F=e[24];let O;e[25]!==o||e[26]!==M||e[27]!==F||e[28]!==i?(O=r.jsxs(te,{onClick:i,className:"w-fit","aria-expanded":o,"aria-controls":"recovery-codes-section",children:[M,F]}),e[25]=o,e[26]=M,e[27]=F,e[28]=i,e[29]=O):O=e[29];let T;e[30]!==C||e[31]!==l||e[32]!==n?(T=C&&r.jsx(de,{...et.form(),options:{preserveScroll:!0},onSuccess:l,children:B=>{const{processing:X}=B;return r.jsxs(te,{variant:"secondary",type:"submit",disabled:X,"aria-describedby":"regenerate-warning",children:[r.jsx(Tt,{})," ",n("recoveryCodes.regenerateCodes")]})}}),e[30]=C,e[31]=l,e[32]=n,e[33]=T):T=e[33];let h;e[34]!==O||e[35]!==T?(h=r.jsxs("div",{className:"flex flex-col gap-3 select-none sm:flex-row sm:items-center sm:justify-between",children:[O,T]}),e[34]=O,e[35]=T,e[36]=h):h=e[36];const k=`relative overflow-hidden transition-all duration-300 ${o?"h-auto opacity-100":"h-0 opacity-0"}`,$=!o;let S;e[37]!==a||e[38]!==t||e[39]!==n?(S=r.jsx("div",{className:"mt-3 space-y-3",children:a?.length?r.jsxs(_e,{variant:"destructive",children:[r.jsx(ke,{}),r.jsx(Te,{children:n("recoveryCodes.somethingWentWrong")}),r.jsx(Ee,{children:r.jsx("ul",{className:"list-inside list-disc text-sm",children:Array.from(new Set(a)).map(It)})})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{ref:x,className:"grid gap-1 rounded-lg bg-muted p-4 font-mono text-sm",role:"list","aria-label":n("recoveryCodes.codesListLabel"),children:t.length?t.map(At):r.jsx("div",{className:"space-y-2","aria-label":n("recoveryCodes.loadingCodes"),children:Array.from({length:8},Ot)})}),r.jsx("div",{className:"text-xs text-muted-foreground select-none",children:r.jsxs("p",{id:"regenerate-warning",children:[n("recoveryCodes.usageNote")," ",r.jsx("span",{className:"font-bold",children:n("recoveryCodes.regenerateButton")})," ","above."]})})]})}),e[37]=a,e[38]=t,e[39]=n,e[40]=S):S=e[40];let y;e[41]!==k||e[42]!==$||e[43]!==S?(y=r.jsx("div",{id:"recovery-codes-section",className:k,"aria-hidden":$,children:S}),e[41]=k,e[42]=$,e[43]=S,e[44]=y):y=e[44];let A;e[45]!==h||e[46]!==y?(A=r.jsxs(Ue,{children:[h,y]}),e[45]=h,e[46]=y,e[47]=A):A=e[47];let z;return e[48]!==A||e[49]!==E?(z=r.jsxs(Ye,{children:[E,A]}),e[48]=A,e[49]=E,e[50]=z):z=e[50],z}function Ot(s,e){return r.jsx("div",{className:"h-4 animate-pulse rounded bg-muted-foreground/20","aria-hidden":"true"},e)}function At(s,e){return r.jsx("div",{role:"listitem",className:"select-text",children:s},e)}function It(s,e){return r.jsx("li",{children:s},e)}var Wt=Object.defineProperty,Bt=Object.defineProperties,Lt=Object.getOwnPropertyDescriptors,ue=Object.getOwnPropertySymbols,Me=Object.prototype.hasOwnProperty,Fe=Object.prototype.propertyIsEnumerable,Ce=(s,e,t)=>e in s?Wt(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Ht=(s,e)=>{for(var t in e||(e={}))Me.call(e,t)&&Ce(s,t,e[t]);if(ue)for(var t of ue(e))Fe.call(e,t)&&Ce(s,t,e[t]);return s},zt=(s,e)=>Bt(s,Lt(e)),Vt=(s,e)=>{var t={};for(var l in s)Me.call(s,l)&&e.indexOf(l)<0&&(t[l]=s[l]);if(s!=null&&ue)for(var l of ue(s))e.indexOf(l)<0&&Fe.call(s,l)&&(t[l]=s[l]);return t};function qt(s){let e=setTimeout(s,0),t=setTimeout(s,10),l=setTimeout(s,50);return[e,t,l]}function Gt(s){let e=c.useRef();return c.useEffect(()=>{e.current=s}),e.current}var Kt=18,Pe=40,Xt=`${Pe}px`,Zt=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function Jt({containerRef:s,inputRef:e,pushPasswordManagerStrategy:t,isFocused:l}){let[a,n]=c.useState(!1),[o,v]=c.useState(!1),[x,C]=c.useState(!1),b=c.useMemo(()=>t==="none"?!1:(t==="increase-width"||t==="experimental-no-flickering")&&a&&o,[a,o,t]),i=c.useCallback(()=>{let d=s.current,g=e.current;if(!d||!g||x||t==="none")return;let w=d,j=w.getBoundingClientRect().left+w.offsetWidth,p=w.getBoundingClientRect().top+w.offsetHeight/2,f=j-Kt,N=p;document.querySelectorAll(Zt).length===0&&document.elementFromPoint(f,N)===d||(n(!0),C(!0))},[s,e,x,t]);return c.useEffect(()=>{let d=s.current;if(!d||t==="none")return;function g(){let j=window.innerWidth-d.getBoundingClientRect().right;v(j>=Pe)}g();let w=setInterval(g,1e3);return()=>{clearInterval(w)}},[s,t]),c.useEffect(()=>{let d=l||document.activeElement===e.current;if(t==="none"||!d)return;let g=setTimeout(i,0),w=setTimeout(i,2e3),j=setTimeout(i,5e3),p=setTimeout(()=>{C(!0)},6e3);return()=>{clearTimeout(g),clearTimeout(w),clearTimeout(j),clearTimeout(p)}},[e,l,t,i]),{hasPWMBadge:a,willPushPWMBadge:b,PWM_BADGE_SPACE_WIDTH:Xt}}var Re=c.createContext({}),$e=c.forwardRef((s,e)=>{var t=s,{value:l,onChange:a,maxLength:n,textAlign:o="left",pattern:v,placeholder:x,inputMode:C="numeric",onComplete:b,pushPasswordManagerStrategy:i="increase-width",pasteTransformer:d,containerClassName:g,noScriptCSSFallback:w=Qt,render:j,children:p}=t,f=Vt(t,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),N,R,E,M,F;let[O,T]=c.useState(typeof f.defaultValue=="string"?f.defaultValue:""),h=l??O,k=Gt(h),$=c.useCallback(u=>{a?.(u),T(u)},[a]),S=c.useMemo(()=>v?typeof v=="string"?new RegExp(v):v:null,[v]),y=c.useRef(null),A=c.useRef(null),z=c.useRef({value:h,onChange:$,isIOS:typeof window<"u"&&((R=(N=window?.CSS)==null?void 0:N.supports)==null?void 0:R.call(N,"-webkit-touch-callout","none"))}),B=c.useRef({prev:[(E=y.current)==null?void 0:E.selectionStart,(M=y.current)==null?void 0:M.selectionEnd,(F=y.current)==null?void 0:F.selectionDirection]});c.useImperativeHandle(e,()=>y.current,[]),c.useEffect(()=>{let u=y.current,m=A.current;if(!u||!m)return;z.current.value!==u.value&&z.current.onChange(u.value),B.current.prev=[u.selectionStart,u.selectionEnd,u.selectionDirection];function L(){if(document.activeElement!==u){D(null),oe(null);return}let _=u.selectionStart,V=u.selectionEnd,ce=u.selectionDirection,Z=u.maxLength,le=u.value,U=B.current.prev,Y=-1,ee=-1,ne;if(le.length!==0&&_!==null&&V!==null){let He=_===V,ze=_===le.length&&le.length<Z;if(He&&!ze){let se=_;if(se===0)Y=0,ee=1,ne="forward";else if(se===Z)Y=se-1,ee=se,ne="backward";else if(Z>1&&le.length>1){let fe=0;if(U[0]!==null&&U[1]!==null){ne=se<U[1]?"backward":"forward";let Ve=U[0]===U[1]&&U[0]<Z;ne==="backward"&&!Ve&&(fe=-1)}Y=fe+se,ee=fe+se+1}}Y!==-1&&ee!==-1&&Y!==ee&&y.current.setSelectionRange(Y,ee,ne)}let be=Y!==-1?Y:_,je=ee!==-1?ee:V,Le=ne??ce;D(be),oe(je),B.current.prev=[be,je,Le]}if(document.addEventListener("selectionchange",L,{capture:!0}),L(),document.activeElement===u&&I(!0),!document.getElementById("input-otp-style")){let _=document.createElement("style");if(_.id="input-otp-style",document.head.appendChild(_),_.sheet){let V="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";ie(_.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),ie(_.sheet,`[data-input-otp]:autofill { ${V} }`),ie(_.sheet,`[data-input-otp]:-webkit-autofill { ${V} }`),ie(_.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),ie(_.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let q=()=>{m&&m.style.setProperty("--root-height",`${u.clientHeight}px`)};q();let G=new ResizeObserver(q);return G.observe(u),()=>{document.removeEventListener("selectionchange",L,{capture:!0}),G.disconnect()}},[]);let[X,Q]=c.useState(!1),[J,I]=c.useState(!1),[P,D]=c.useState(null),[W,oe]=c.useState(null);c.useEffect(()=>{qt(()=>{var u,m,L,q;(u=y.current)==null||u.dispatchEvent(new Event("input"));let G=(m=y.current)==null?void 0:m.selectionStart,_=(L=y.current)==null?void 0:L.selectionEnd,V=(q=y.current)==null?void 0:q.selectionDirection;G!==null&&_!==null&&(D(G),oe(_),B.current.prev=[G,_,V])})},[h,J]),c.useEffect(()=>{k!==void 0&&h!==k&&k.length<n&&h.length===n&&b?.(h)},[n,b,k,h]);let ae=Jt({containerRef:A,inputRef:y,pushPasswordManagerStrategy:i,isFocused:J}),xe=c.useCallback(u=>{let m=u.currentTarget.value.slice(0,n);if(m.length>0&&S&&!S.test(m)){u.preventDefault();return}typeof k=="string"&&m.length<k.length&&document.dispatchEvent(new Event("selectionchange")),$(m)},[n,$,k,S]),ve=c.useCallback(()=>{var u;if(y.current){let m=Math.min(y.current.value.length,n-1),L=y.current.value.length;(u=y.current)==null||u.setSelectionRange(m,L),D(m),oe(L)}I(!0)},[n]),ge=c.useCallback(u=>{var m,L;let q=y.current;if(!d&&(!z.current.isIOS||!u.clipboardData||!q))return;let G=u.clipboardData.getData("text/plain"),_=d?d(G):G;u.preventDefault();let V=(m=y.current)==null?void 0:m.selectionStart,ce=(L=y.current)==null?void 0:L.selectionEnd,Z=(V!==ce?h.slice(0,V)+_+h.slice(ce):h.slice(0,V)+_+h.slice(V)).slice(0,n);if(Z.length>0&&S&&!S.test(Z))return;q.value=Z,$(Z);let le=Math.min(Z.length,n-1),U=Z.length;q.setSelectionRange(le,U),D(le),oe(U)},[n,$,S,h]),Ie=c.useMemo(()=>({position:"relative",cursor:f.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[f.disabled]),ye=c.useMemo(()=>({position:"absolute",inset:0,width:ae.willPushPWMBadge?`calc(100% + ${ae.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:ae.willPushPWMBadge?`inset(0 ${ae.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:o,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[ae.PWM_BADGE_SPACE_WIDTH,ae.willPushPWMBadge,o]),We=c.useMemo(()=>c.createElement("input",zt(Ht({autoComplete:f.autoComplete||"one-time-code"},f),{"data-input-otp":!0,"data-input-otp-placeholder-shown":h.length===0||void 0,"data-input-otp-mss":P,"data-input-otp-mse":W,inputMode:C,pattern:S?.source,"aria-placeholder":x,style:ye,maxLength:n,value:h,ref:y,onPaste:u=>{var m;ge(u),(m=f.onPaste)==null||m.call(f,u)},onChange:xe,onMouseOver:u=>{var m;Q(!0),(m=f.onMouseOver)==null||m.call(f,u)},onMouseLeave:u=>{var m;Q(!1),(m=f.onMouseLeave)==null||m.call(f,u)},onFocus:u=>{var m;ve(),(m=f.onFocus)==null||m.call(f,u)},onBlur:u=>{var m;I(!1),(m=f.onBlur)==null||m.call(f,u)}})),[xe,ve,ge,C,ye,n,W,P,f,S?.source,h]),pe=c.useMemo(()=>({slots:Array.from({length:n}).map((u,m)=>{var L;let q=J&&P!==null&&W!==null&&(P===W&&m===P||m>=P&&m<W),G=h[m]!==void 0?h[m]:null,_=h[0]!==void 0?null:(L=x?.[m])!=null?L:null;return{char:G,placeholderChar:_,isActive:q,hasFakeCaret:q&&G===null}}),isFocused:J,isHovering:!f.disabled&&X}),[J,X,n,W,P,f.disabled,h]),Be=c.useMemo(()=>j?j(pe):c.createElement(Re.Provider,{value:pe},p),[p,pe,j]);return c.createElement(c.Fragment,null,w!==null&&c.createElement("noscript",null,c.createElement("style",null,w)),c.createElement("div",{ref:A,"data-input-otp-container":!0,style:Ie,className:g},Be,c.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},We)))});$e.displayName="Input";function ie(s,e){try{s.insertRule(e)}catch{console.error("input-otp could not insert CSS rule:",e)}}var Qt=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`,Ut="^\\d+$";const De=c.forwardRef((s,e)=>{const t=H.c(13);let l,a,n;t[0]!==s?({className:l,containerClassName:a,...n}=s,t[0]=s,t[1]=l,t[2]=a,t[3]=n):(l=t[1],a=t[2],n=t[3]);let o;t[4]!==a?(o=re("flex items-center gap-2 has-[:disabled]:opacity-50",a),t[4]=a,t[5]=o):o=t[5];let v;t[6]!==l?(v=re("disabled:cursor-not-allowed",l),t[6]=l,t[7]=v):v=t[7];let x;return t[8]!==n||t[9]!==e||t[10]!==o||t[11]!==v?(x=r.jsx($e,{ref:e,containerClassName:o,className:v,...n}),t[8]=n,t[9]=e,t[10]=o,t[11]=v,t[12]=x):x=t[12],x});De.displayName="InputOTP";const Oe=c.forwardRef((s,e)=>{const t=H.c(9);let l,a;t[0]!==s?({className:l,...a}=s,t[0]=s,t[1]=l,t[2]=a):(l=t[1],a=t[2]);let n;t[3]!==l?(n=re("flex items-center",l),t[3]=l,t[4]=n):n=t[4];let o;return t[5]!==a||t[6]!==e||t[7]!==n?(o=r.jsx("div",{ref:e,className:n,...a}),t[5]=a,t[6]=e,t[7]=n,t[8]=o):o=t[8],o});Oe.displayName="InputOTPGroup";const Ae=c.forwardRef((s,e)=>{const t=H.c(15);let l,a,n;t[0]!==s?({index:a,className:l,...n}=s,t[0]=s,t[1]=l,t[2]=a,t[3]=n):(l=t[1],a=t[2],n=t[3]);const o=c.useContext(Re),{char:v,hasFakeCaret:x,isActive:C}=o.slots[a],b=C&&"z-10 ring-1 ring-ring";let i;t[4]!==l||t[5]!==b?(i=re("relative flex h-9 w-9 items-center justify-center border-y border-r border-input text-sm shadow-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",b,l),t[4]=l,t[5]=b,t[6]=i):i=t[6];let d;t[7]!==x?(d=x&&r.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:r.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})}),t[7]=x,t[8]=d):d=t[8];let g;return t[9]!==v||t[10]!==n||t[11]!==e||t[12]!==i||t[13]!==d?(g=r.jsxs("div",{ref:e,className:i,...n,children:[v,d]}),t[9]=v,t[10]=n,t[11]=e,t[12]=i,t[13]=d,t[14]=g):g=t[14],g});Ae.displayName="InputOTPSlot";const Yt=c.forwardRef((s,e)=>{const t=H.c(6);let l;t[0]!==s?({...l}=s,t[0]=s,t[1]=l):l=t[1];let a;t[2]===Symbol.for("react.memo_cache_sentinel")?(a=r.jsx(kt,{}),t[2]=a):a=t[2];let n;return t[3]!==l||t[4]!==e?(n=r.jsx("div",{ref:e,role:"separator",...l,children:a}),t[3]=l,t[4]=e,t[5]=n):n=t[5],n});Yt.displayName="InputOTPSeparator";function er(){const s=H.c(3),[e,t]=c.useState(null);let l;s[0]===Symbol.for("react.memo_cache_sentinel")?(l=async o=>{if(!navigator?.clipboard)return console.warn("Clipboard not supported"),!1;try{return await navigator.clipboard.writeText(o),t(o),!0}catch(v){return console.warn("Copy failed",v),t(null),!1}},s[0]=l):l=s[0];const a=l;let n;return s[1]!==e?(n=[e,a],s[1]=e,s[2]=n):n=s[2],n}function Ne(s){const e=H.c(8);let t,l;e[0]!==s?({className:t,...l}=s,e[0]=s,e[1]=t,e[2]=l):(t=e[1],l=e[2]);let a;e[3]!==t?(a=re("size-4 animate-spin",t),e[3]=t,e[4]=a):a=e[4];let n;return e[5]!==l||e[6]!==a?(n=r.jsx(wt,{role:"status","aria-label":"Loading",className:a,...l}),e[5]=l,e[6]=a,e[7]=n):n=e[7],n}function tr(){const s=H.c(2);let e;s[0]===Symbol.for("react.memo_cache_sentinel")?(e=r.jsx("div",{className:"absolute inset-0 grid grid-cols-5 opacity-50",children:Array.from({length:5},lr)}),s[0]=e):e=s[0];let t;return s[1]===Symbol.for("react.memo_cache_sentinel")?(t=r.jsx("div",{className:"mb-3 rounded-full border border-border bg-card p-0.5 shadow-sm",children:r.jsxs("div",{className:"relative overflow-hidden rounded-full border border-border bg-muted p-2.5",children:[e,r.jsx("div",{className:"absolute inset-0 grid grid-rows-5 opacity-50",children:Array.from({length:5},rr)}),r.jsx(Mt,{className:"relative z-20 size-6 text-foreground"})]})}),s[1]=t):t=s[1],t}function rr(s,e){return r.jsx("div",{className:"border-b border-border last:border-b-0"},`row-${e+1}`)}function lr(s,e){return r.jsx("div",{className:"border-r border-border last:border-r-0"},`col-${e+1}`)}function nr(s){const e=H.c(10),{qrCodeSvg:t,manualSetupKey:l,buttonText:a,onNextStep:n,errors:o,orEnterManuallyText:v,somethingWentWrongText:x}=s,[C,b]=er(),i=C===l?ft:xt;let d;return e[0]!==i||e[1]!==a||e[2]!==b||e[3]!==o||e[4]!==l||e[5]!==n||e[6]!==v||e[7]!==t||e[8]!==x?(d=r.jsx(r.Fragment,{children:o?.length?r.jsxs(_e,{variant:"destructive",children:[r.jsx(ke,{}),r.jsx(Te,{children:x}),r.jsx(Ee,{children:r.jsx("ul",{className:"list-inside list-disc text-sm",children:Array.from(new Set(o)).map(sr)})})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mx-auto flex max-w-md overflow-hidden",children:r.jsx("div",{className:"mx-auto aspect-square w-64 rounded-lg border border-border",children:r.jsx("div",{className:"z-10 flex h-full w-full items-center justify-center p-5",children:t?r.jsx("div",{dangerouslySetInnerHTML:{__html:t}}):r.jsx(Ne,{})})})}),r.jsx("div",{className:"flex w-full space-x-5",children:r.jsx(te,{className:"w-full",onClick:n,children:a})}),r.jsxs("div",{className:"relative flex w-full items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 top-1/2 h-px w-full bg-border"}),r.jsx("span",{className:"relative bg-card px-2 py-1",children:v})]}),r.jsx("div",{className:"flex w-full space-x-2",children:r.jsx("div",{className:"flex w-full items-stretch overflow-hidden rounded-xl border border-border",children:l?r.jsxs(r.Fragment,{children:[r.jsx("input",{type:"text",readOnly:!0,value:l,className:"h-full w-full bg-background p-3 text-foreground outline-none"}),r.jsx("button",{onClick:()=>b(l),className:"border-l border-border px-3 hover:bg-muted",children:r.jsx(i,{className:"w-4"})})]}):r.jsx("div",{className:"flex h-full w-full items-center justify-center bg-muted p-3",children:r.jsx(Ne,{})})})})]})}),e[0]=i,e[1]=a,e[2]=b,e[3]=o,e[4]=l,e[5]=n,e[6]=v,e[7]=t,e[8]=x,e[9]=d):d=e[9],d}function sr(s,e){return r.jsx("li",{children:s},e)}function ar(s){const e=H.c(13),{onClose:t,onBack:l,backText:a,confirmText:n}=s,[o,v]=c.useState(""),x=c.useRef(null);let C,b;e[0]===Symbol.for("react.memo_cache_sentinel")?(C=()=>{setTimeout(()=>{x.current?.querySelector("input")?.focus()},0)},b=[],e[0]=C,e[1]=b):(C=e[0],b=e[1]),c.useEffect(C,b);let i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=tt.form(),e[2]=i):i=e[2];let d;e[3]!==t?(d=()=>t(),e[3]=t,e[4]=d):d=e[4];let g;e[5]!==a||e[6]!==o||e[7]!==n||e[8]!==l?(g=j=>{const{processing:p,errors:f}=j;return r.jsx(r.Fragment,{children:r.jsxs("div",{ref:x,className:"relative w-full space-y-3",children:[r.jsxs("div",{className:"flex w-full flex-col items-center space-y-3 py-2",children:[r.jsx(De,{id:"otp",name:"code",maxLength:me,onChange:v,disabled:p,pattern:Ut,children:r.jsx(Oe,{children:Array.from({length:me},or)})}),r.jsx(nt,{message:f?.confirmTwoFactorAuthentication?.code})]}),r.jsxs("div",{className:"flex w-full space-x-5",children:[r.jsx(te,{type:"button",variant:"outline",className:"flex-1",onClick:l,disabled:p,children:a}),r.jsx(te,{type:"submit",className:"flex-1",disabled:p||o.length<me,children:n})]})]})})},e[5]=a,e[6]=o,e[7]=n,e[8]=l,e[9]=g):g=e[9];let w;return e[10]!==d||e[11]!==g?(w=r.jsx(de,{...i,onSuccess:d,resetOnError:!0,resetOnSuccess:!0,children:g}),e[10]=d,e[11]=g,e[12]=w):w=e[12],w}function or(s,e){return r.jsx(Ae,{index:e},e)}function ir(s){const e=H.c(71),{isOpen:t,onClose:l,requiresConfirmation:a,twoFactorEnabled:n,qrCodeSvg:o,manualSetupKey:v,clearSetupData:x,fetchSetupData:C,errors:b}=s,{t:i}=he("auth"),[d,g]=c.useState(!1);let w;e:{if(n){let I;e[0]!==i?(I=i("twoFactorSetup.enabledTitle"),e[0]=i,e[1]=I):I=e[1];let P;e[2]!==i?(P=i("twoFactorSetup.enabledDescription"),e[2]=i,e[3]=P):P=e[3];let D;e[4]!==i?(D=i("twoFactorSetup.close"),e[4]=i,e[5]=D):D=e[5];let W;e[6]!==I||e[7]!==P||e[8]!==D?(W={title:I,description:P,buttonText:D},e[6]=I,e[7]=P,e[8]=D,e[9]=W):W=e[9],w=W;break e}if(d){let I;e[10]!==i?(I=i("twoFactorSetup.verifyTitle"),e[10]=i,e[11]=I):I=e[11];let P;e[12]!==i?(P=i("twoFactorSetup.verifyDescription"),e[12]=i,e[13]=P):P=e[13];let D;e[14]!==i?(D=i("twoFactorSetup.continue"),e[14]=i,e[15]=D):D=e[15];let W;e[16]!==I||e[17]!==P||e[18]!==D?(W={title:I,description:P,buttonText:D},e[16]=I,e[17]=P,e[18]=D,e[19]=W):W=e[19],w=W;break e}let B;e[20]!==i?(B=i("twoFactorSetup.enableTitle"),e[20]=i,e[21]=B):B=e[21];let X;e[22]!==i?(X=i("twoFactorSetup.enableDescription"),e[22]=i,e[23]=X):X=e[23];let Q;e[24]!==i?(Q=i("twoFactorSetup.continue"),e[24]=i,e[25]=Q):Q=e[25];let J;e[26]!==B||e[27]!==X||e[28]!==Q?(J={title:B,description:X,buttonText:Q},e[26]=B,e[27]=X,e[28]=Q,e[29]=J):J=e[29],w=J}const j=w;let p;e[30]!==x||e[31]!==l||e[32]!==a?(p=()=>{if(a){g(!0);return}x(),l()},e[30]=x,e[31]=l,e[32]=a,e[33]=p):p=e[33];const f=p;let N;e[34]!==x||e[35]!==n?(N=()=>{g(!1),n&&x()},e[34]=x,e[35]=n,e[36]=N):N=e[36];const R=N;let E,M;e[37]!==C||e[38]!==t||e[39]!==o?(E=()=>{t&&!o&&C()},M=[t,o,C],e[37]=C,e[38]=t,e[39]=o,e[40]=E,e[41]=M):(E=e[40],M=e[41]),c.useEffect(E,M);let F;e[42]!==l||e[43]!==R?(F=()=>{R(),l()},e[42]=l,e[43]=R,e[44]=F):F=e[44];const O=F;let T;e[45]!==O?(T=B=>!B&&O(),e[45]=O,e[46]=T):T=e[46];let h;e[47]===Symbol.for("react.memo_cache_sentinel")?(h=r.jsx(tr,{}),e[47]=h):h=e[47];let k;e[48]!==j.title?(k=r.jsx(st,{children:j.title}),e[48]=j.title,e[49]=k):k=e[49];let $;e[50]!==j.description?($=r.jsx(at,{className:"text-center",children:j.description}),e[50]=j.description,e[51]=$):$=e[51];let S;e[52]!==$||e[53]!==k?(S=r.jsxs(ot,{className:"flex items-center justify-center",children:[h,k,$]}),e[52]=$,e[53]=k,e[54]=S):S=e[54];let y;e[55]!==b||e[56]!==f||e[57]!==v||e[58]!==j.buttonText||e[59]!==l||e[60]!==o||e[61]!==d||e[62]!==i?(y=r.jsx("div",{className:"flex flex-col items-center space-y-5",children:d?r.jsx(ar,{onClose:l,onBack:()=>g(!1),backText:i("twoFactorSetup.back"),confirmText:i("twoFactorSetup.confirm")}):r.jsx(nr,{qrCodeSvg:o,manualSetupKey:v,buttonText:j.buttonText,onNextStep:f,errors:b,orEnterManuallyText:i("twoFactorSetup.orEnterManually"),somethingWentWrongText:i("twoFactorSetup.somethingWentWrong")})}),e[55]=b,e[56]=f,e[57]=v,e[58]=j.buttonText,e[59]=l,e[60]=o,e[61]=d,e[62]=i,e[63]=y):y=e[63];let A;e[64]!==S||e[65]!==y?(A=r.jsxs(it,{className:"sm:max-w-md",children:[S,y]}),e[64]=S,e[65]=y,e[66]=A):A=e[66];let z;return e[67]!==t||e[68]!==A||e[69]!==T?(z=r.jsx(ct,{open:t,onOpenChange:T,children:A}),e[67]=t,e[68]=A,e[69]=T,e[70]=z):z=e[70],z}function br(s){const e=H.c(35),{requiresConfirmation:t,twoFactorEnabled:l}=s,a=t===void 0?!1:t,n=l===void 0?!1:l,{qrCodeSvg:o,hasSetupData:v,manualSetupKey:x,clearSetupData:C,fetchSetupData:b,recoveryCodesList:i,fetchRecoveryCodes:d,errors:g}=dt(),[w,j]=c.useState(!1),{t:p}=he("settings");let f;e[0]!==p?(f=p("twoFactor.pageTitle"),e[0]=p,e[1]=f):f=e[1];let N;e[2]!==f?(N=r.jsx(qe,{title:f}),e[2]=f,e[3]=N):N=e[3];let R;e[4]!==p?(R=p("twoFactor.title"),e[4]=p,e[5]=R):R=e[5];let E;e[6]!==p?(E=p("twoFactor.description"),e[6]=p,e[7]=E):E=e[7];let M;e[8]!==R||e[9]!==E?(M=r.jsx(Ge,{title:R,description:E}),e[8]=R,e[9]=E,e[10]=M):M=e[10];let F;e[11]!==g||e[12]!==d||e[13]!==v||e[14]!==i||e[15]!==p||e[16]!==n?(F=n?r.jsxs("div",{className:"flex flex-col items-start justify-start space-y-4",children:[r.jsx(we,{variant:"default",children:p("twoFactor.enabled")}),r.jsx("p",{className:"text-muted-foreground",children:p("twoFactor.enabledDescription")}),r.jsx(Dt,{recoveryCodesList:i,fetchRecoveryCodes:d,errors:g}),r.jsx("div",{className:"relative inline",children:r.jsx(de,{...rt.form(),children:$=>{const{processing:S}=$;return r.jsxs(te,{variant:"destructive",type:"submit",disabled:S,children:[r.jsx(Pt,{})," ",p("twoFactor.disable")]})}})})]}):r.jsxs("div",{className:"flex flex-col items-start justify-start space-y-4",children:[r.jsx(we,{variant:"destructive",children:p("twoFactor.disabled")}),r.jsx("p",{className:"text-muted-foreground",children:p("twoFactor.disabledDescription")}),r.jsx("div",{children:v?r.jsxs(te,{onClick:()=>j(!0),children:[r.jsx(Se,{}),p("twoFactor.continueSetup")]}):r.jsx(de,{...lt.form(),onSuccess:()=>j(!0),children:$=>{const{processing:S}=$;return r.jsxs(te,{type:"submit",disabled:S,children:[r.jsx(Se,{}),p("twoFactor.enable")]})}})})]}),e[11]=g,e[12]=d,e[13]=v,e[14]=i,e[15]=p,e[16]=n,e[17]=F):F=e[17];let O;e[18]===Symbol.for("react.memo_cache_sentinel")?(O=()=>j(!1),e[18]=O):O=e[18];let T;e[19]!==C||e[20]!==g||e[21]!==b||e[22]!==x||e[23]!==o||e[24]!==a||e[25]!==w||e[26]!==n?(T=r.jsx(ir,{isOpen:w,onClose:O,requiresConfirmation:a,twoFactorEnabled:n,qrCodeSvg:o,manualSetupKey:x,clearSetupData:C,fetchSetupData:b,errors:g}),e[19]=C,e[20]=g,e[21]=b,e[22]=x,e[23]=o,e[24]=a,e[25]=w,e[26]=n,e[27]=T):T=e[27];let h;e[28]!==T||e[29]!==M||e[30]!==F?(h=r.jsx("div",{className:"mx-auto max-w-4xl",children:r.jsx(Ke,{children:r.jsxs("div",{className:"space-y-6",children:[M,F,T]})})}),e[28]=T,e[29]=M,e[30]=F,e[31]=h):h=e[31];let k;return e[32]!==h||e[33]!==N?(k=r.jsxs(ut,{children:[N,h]}),e[32]=h,e[33]=N,e[34]=k):k=e[34],k}export{br as default};
