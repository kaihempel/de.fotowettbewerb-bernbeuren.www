import{c as M,j as n,a as s,F as se,H as He}from"./app-Cm1x60VO.js";import{H as ze,S as We}from"./layout-CEAq5oxs.js";import{c as Ve,B as Q}from"./button-D0N2aTmU.js";import{a as qe,b as Ge,c as Ke,C as Qe,d as Xe,B as je}from"./card-DrbiueDX.js";import{r as Ze,c as Je,d as Ue,e as Ye}from"./index-CCGvlgrT.js";import{c as X,G as et}from"./global-layout-T8UqU-KF.js";import{c as B}from"./createLucideIcon-CrXj82c4.js";import{I as tt}from"./input-error-BQ0w7bZ-.js";import{e as nt,f as rt,g as lt,a as at,D as ot}from"./dialog-Cc13a1Oo.js";import{O as pe,u as st}from"./use-two-factor-auth-BIWKuH6K.js";/* empty css            */import"./x-B9PyeEv-.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ct=B("Check",it);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ut=B("CircleAlert",dt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ft=B("Copy",pt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ht=B("EyeOff",mt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gt=B("Eye",xt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],yt=B("LoaderCircle",vt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]],jt=B("LockKeyhole",bt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=[["path",{d:"M5 12h14",key:"1ays0h"}]],St=B("Minus",wt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Nt=B("RefreshCw",Ct);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],kt=B("ScanLine",_t);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m4.243 5.21 14.39 12.472",key:"1c9a7c"}]],Tt=B("ShieldBan",Et);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ce=B("ShieldCheck",Mt),Rt=Ve("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-background text-foreground",destructive:"text-destructive-foreground [&>svg]:text-current *:data-[slot=alert-description]:text-destructive-foreground/80"}},defaultVariants:{variant:"default"}});function Pt(l){const e=M.c(10);let t,r,o;e[0]!==l?({className:t,variant:o,...r}=l,e[0]=l,e[1]=t,e[2]=r,e[3]=o):(t=e[1],r=e[2],o=e[3]);let a;e[4]!==t||e[5]!==o?(a=X(Rt({variant:o}),t),e[4]=t,e[5]=o,e[6]=a):a=e[6];let i;return e[7]!==r||e[8]!==a?(i=n.jsx("div",{"data-slot":"alert",role:"alert",className:a,...r}),e[7]=r,e[8]=a,e[9]=i):i=e[9],i}function $t(l){const e=M.c(8);let t,r;e[0]!==l?({className:t,...r}=l,e[0]=l,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let o;e[3]!==t?(o=X("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",t),e[3]=t,e[4]=o):o=e[4];let a;return e[5]!==r||e[6]!==o?(a=n.jsx("div",{"data-slot":"alert-title",className:o,...r}),e[5]=r,e[6]=o,e[7]=a):a=e[7],a}function At(l){const e=M.c(8);let t,r;e[0]!==l?({className:t,...r}=l,e[0]=l,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let o;e[3]!==t?(o=X("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),e[3]=t,e[4]=o):o=e[4];let a;return e[5]!==r||e[6]!==o?(a=n.jsx("div",{"data-slot":"alert-description",className:o,...r}),e[5]=r,e[6]=o,e[7]=a):a=e[7],a}function Ne(l){const e=M.c(8),{errors:t,title:r}=l;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=n.jsx(ut,{}),e[0]=o):o=e[0];const a=r||"Something went wrong.";let i;e[1]!==a?(i=n.jsx($t,{children:a}),e[1]=a,e[2]=i):i=e[2];let c;e[3]!==t?(c=n.jsx(At,{children:n.jsx("ul",{className:"list-inside list-disc text-sm",children:Array.from(new Set(t)).map(Ft)})}),e[3]=t,e[4]=c):c=e[4];let d;return e[5]!==i||e[6]!==c?(d=n.jsxs(Pt,{variant:"destructive",children:[o,i,c]}),e[5]=i,e[6]=c,e[7]=d):d=e[7],d}function Ft(l,e){return n.jsx("li",{children:l},e)}function Ot(l){const e=M.c(32),{recoveryCodesList:t,fetchRecoveryCodes:r,errors:o}=l,[a,i]=s.useState(!1),c=s.useRef(null),d=t.length>0&&a;let y;e[0]!==a||e[1]!==r||e[2]!==t.length?(y=async()=>{!a&&!t.length&&await r(),i(!a),a||setTimeout(()=>{c.current?.scrollIntoView({behavior:"smooth",block:"nearest"})})},e[0]=a,e[1]=r,e[2]=t.length,e[3]=y):y=e[3];const g=y;let h,m;e[4]!==r||e[5]!==t.length?(h=()=>{t.length||r()},m=[t.length,r],e[4]=r,e[5]=t.length,e[6]=h,e[7]=m):(h=e[6],m=e[7]),s.useEffect(h,m);const v=a?ht:gt;let x;e[8]===Symbol.for("react.memo_cache_sentinel")?(x=n.jsxs(qe,{children:[n.jsxs(Ge,{className:"flex gap-3",children:[n.jsx(jt,{className:"size-4","aria-hidden":"true"}),"2FA Recovery Codes"]}),n.jsx(Ke,{children:"Recovery codes let you regain access if you lose your 2FA device. Store them in a secure password manager."})]}),e[8]=x):x=e[8];let b;e[9]!==v?(b=n.jsx(v,{className:"size-4","aria-hidden":"true"}),e[9]=v,e[10]=b):b=e[10];const N=a?"Hide":"View";let f;e[11]!==a||e[12]!==b||e[13]!==N||e[14]!==g?(f=n.jsxs(Q,{onClick:g,className:"w-fit","aria-expanded":a,"aria-controls":"recovery-codes-section",children:[b,N," Recovery Codes"]}),e[11]=a,e[12]=b,e[13]=N,e[14]=g,e[15]=f):f=e[15];let S;e[16]!==d||e[17]!==r?(S=d&&n.jsx(se,{...Ze.form(),options:{preserveScroll:!0},onSuccess:r,children:Lt}),e[16]=d,e[17]=r,e[18]=S):S=e[18];let _;e[19]!==f||e[20]!==S?(_=n.jsxs("div",{className:"flex flex-col gap-3 select-none sm:flex-row sm:items-center sm:justify-between",children:[f,S]}),e[19]=f,e[20]=S,e[21]=_):_=e[21];const k=`relative overflow-hidden transition-all duration-300 ${a?"h-auto opacity-100":"h-0 opacity-0"}`,T=!a;let F;e[22]!==o||e[23]!==t?(F=n.jsx("div",{className:"mt-3 space-y-3",children:o?.length?n.jsx(Ne,{errors:o}):n.jsxs(n.Fragment,{children:[n.jsx("div",{ref:c,className:"grid gap-1 rounded-lg bg-muted p-4 font-mono text-sm",role:"list","aria-label":"Recovery codes",children:t.length?t.map(It):n.jsx("div",{className:"space-y-2","aria-label":"Loading recovery codes",children:Array.from({length:8},Dt)})}),n.jsx("div",{className:"text-xs text-muted-foreground select-none",children:n.jsxs("p",{id:"regenerate-warning",children:["Each recovery code can be used once to access your account and will be removed after use. If you need more, click"," ",n.jsx("span",{className:"font-bold",children:"Regenerate Codes"})," above."]})})]})}),e[22]=o,e[23]=t,e[24]=F):F=e[24];let R;e[25]!==k||e[26]!==T||e[27]!==F?(R=n.jsx("div",{id:"recovery-codes-section",className:k,"aria-hidden":T,children:F}),e[25]=k,e[26]=T,e[27]=F,e[28]=R):R=e[28];let H;return e[29]!==R||e[30]!==_?(H=n.jsxs(Qe,{children:[x,n.jsxs(Xe,{children:[_,R]})]}),e[29]=R,e[30]=_,e[31]=H):H=e[31],H}function Dt(l,e){return n.jsx("div",{className:"h-4 animate-pulse rounded bg-muted-foreground/20","aria-hidden":"true"},e)}function It(l,e){return n.jsx("div",{role:"listitem",className:"select-text",children:l},e)}function Lt(l){const{processing:e}=l;return n.jsxs(Q,{variant:"secondary",type:"submit",disabled:e,"aria-describedby":"regenerate-warning",children:[n.jsx(Nt,{})," Regenerate Codes"]})}var Bt=Object.defineProperty,Ht=Object.defineProperties,zt=Object.getOwnPropertyDescriptors,ie=Object.getOwnPropertySymbols,_e=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable,we=(l,e,t)=>e in l?Bt(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,Wt=(l,e)=>{for(var t in e||(e={}))_e.call(e,t)&&we(l,t,e[t]);if(ie)for(var t of ie(e))ke.call(e,t)&&we(l,t,e[t]);return l},Vt=(l,e)=>Ht(l,zt(e)),qt=(l,e)=>{var t={};for(var r in l)_e.call(l,r)&&e.indexOf(r)<0&&(t[r]=l[r]);if(l!=null&&ie)for(var r of ie(l))e.indexOf(r)<0&&ke.call(l,r)&&(t[r]=l[r]);return t};function Gt(l){let e=setTimeout(l,0),t=setTimeout(l,10),r=setTimeout(l,50);return[e,t,r]}function Kt(l){let e=s.useRef();return s.useEffect(()=>{e.current=l}),e.current}var Qt=18,Ee=40,Xt=`${Ee}px`,Zt=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function Jt({containerRef:l,inputRef:e,pushPasswordManagerStrategy:t,isFocused:r}){let[o,a]=s.useState(!1),[i,c]=s.useState(!1),[d,y]=s.useState(!1),g=s.useMemo(()=>t==="none"?!1:(t==="increase-width"||t==="experimental-no-flickering")&&o&&i,[o,i,t]),h=s.useCallback(()=>{let m=l.current,v=e.current;if(!m||!v||d||t==="none")return;let x=m,b=x.getBoundingClientRect().left+x.offsetWidth,N=x.getBoundingClientRect().top+x.offsetHeight/2,f=b-Qt,S=N;document.querySelectorAll(Zt).length===0&&document.elementFromPoint(f,S)===m||(a(!0),y(!0))},[l,e,d,t]);return s.useEffect(()=>{let m=l.current;if(!m||t==="none")return;function v(){let b=window.innerWidth-m.getBoundingClientRect().right;c(b>=Ee)}v();let x=setInterval(v,1e3);return()=>{clearInterval(x)}},[l,t]),s.useEffect(()=>{let m=r||document.activeElement===e.current;if(t==="none"||!m)return;let v=setTimeout(h,0),x=setTimeout(h,2e3),b=setTimeout(h,5e3),N=setTimeout(()=>{y(!0)},6e3);return()=>{clearTimeout(v),clearTimeout(x),clearTimeout(b),clearTimeout(N)}},[e,r,t,h]),{hasPWMBadge:o,willPushPWMBadge:g,PWM_BADGE_SPACE_WIDTH:Xt}}var Te=s.createContext({}),Me=s.forwardRef((l,e)=>{var t=l,{value:r,onChange:o,maxLength:a,textAlign:i="left",pattern:c,placeholder:d,inputMode:y="numeric",onComplete:g,pushPasswordManagerStrategy:h="increase-width",pasteTransformer:m,containerClassName:v,noScriptCSSFallback:x=Ut,render:b,children:N}=t,f=qt(t,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),S,_,k,T,F;let[R,H]=s.useState(typeof f.defaultValue=="string"?f.defaultValue:""),j=r??R,$=Kt(j),D=s.useCallback(u=>{o?.(u),H(u)},[o]),E=s.useMemo(()=>c?typeof c=="string"?new RegExp(c):c:null,[c]),w=s.useRef(null),q=s.useRef(null),W=s.useRef({value:j,onChange:D,isIOS:typeof window<"u"&&((_=(S=window?.CSS)==null?void 0:S.supports)==null?void 0:_.call(S,"-webkit-touch-callout","none"))}),A=s.useRef({prev:[(k=w.current)==null?void 0:k.selectionStart,(T=w.current)==null?void 0:T.selectionEnd,(F=w.current)==null?void 0:F.selectionDirection]});s.useImperativeHandle(e,()=>w.current,[]),s.useEffect(()=>{let u=w.current,p=q.current;if(!u||!p)return;W.current.value!==u.value&&W.current.onChange(u.value),A.current.prev=[u.selectionStart,u.selectionEnd,u.selectionDirection];function P(){if(document.activeElement!==u){re(null),le(null);return}let C=u.selectionStart,O=u.selectionEnd,oe=u.selectionDirection,z=u.maxLength,J=u.value,V=A.current.prev,G=-1,K=-1,U;if(J.length!==0&&C!==null&&O!==null){let Ie=C===O,Le=C===J.length&&J.length<z;if(Ie&&!Le){let Y=C;if(Y===0)G=0,K=1,U="forward";else if(Y===z)G=Y-1,K=Y,U="backward";else if(z>1&&J.length>1){let ue=0;if(V[0]!==null&&V[1]!==null){U=Y<V[1]?"backward":"forward";let Be=V[0]===V[1]&&V[0]<z;U==="backward"&&!Be&&(ue=-1)}G=ue+Y,K=ue+Y+1}}G!==-1&&K!==-1&&G!==K&&w.current.setSelectionRange(G,K,U)}let ye=G!==-1?G:C,be=K!==-1?K:O,De=U??oe;re(ye),le(be),A.current.prev=[ye,be,De]}if(document.addEventListener("selectionchange",P,{capture:!0}),P(),document.activeElement===u&&ce(!0),!document.getElementById("input-otp-style")){let C=document.createElement("style");if(C.id="input-otp-style",document.head.appendChild(C),C.sheet){let O="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";ae(C.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),ae(C.sheet,`[data-input-otp]:autofill { ${O} }`),ae(C.sheet,`[data-input-otp]:-webkit-autofill { ${O} }`),ae(C.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),ae(C.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let I=()=>{p&&p.style.setProperty("--root-height",`${u.clientHeight}px`)};I();let L=new ResizeObserver(I);return L.observe(u),()=>{document.removeEventListener("selectionchange",P,{capture:!0}),L.disconnect()}},[]);let[fe,me]=s.useState(!1),[ne,ce]=s.useState(!1),[Z,re]=s.useState(null),[ee,le]=s.useState(null);s.useEffect(()=>{Gt(()=>{var u,p,P,I;(u=w.current)==null||u.dispatchEvent(new Event("input"));let L=(p=w.current)==null?void 0:p.selectionStart,C=(P=w.current)==null?void 0:P.selectionEnd,O=(I=w.current)==null?void 0:I.selectionDirection;L!==null&&C!==null&&(re(L),le(C),A.current.prev=[L,C,O])})},[j,ne]),s.useEffect(()=>{$!==void 0&&j!==$&&$.length<a&&j.length===a&&g?.(j)},[a,g,$,j]);let te=Jt({containerRef:q,inputRef:w,pushPasswordManagerStrategy:h,isFocused:ne}),he=s.useCallback(u=>{let p=u.currentTarget.value.slice(0,a);if(p.length>0&&E&&!E.test(p)){u.preventDefault();return}typeof $=="string"&&p.length<$.length&&document.dispatchEvent(new Event("selectionchange")),D(p)},[a,D,$,E]),xe=s.useCallback(()=>{var u;if(w.current){let p=Math.min(w.current.value.length,a-1),P=w.current.value.length;(u=w.current)==null||u.setSelectionRange(p,P),re(p),le(P)}ce(!0)},[a]),ge=s.useCallback(u=>{var p,P;let I=w.current;if(!m&&(!W.current.isIOS||!u.clipboardData||!I))return;let L=u.clipboardData.getData("text/plain"),C=m?m(L):L;u.preventDefault();let O=(p=w.current)==null?void 0:p.selectionStart,oe=(P=w.current)==null?void 0:P.selectionEnd,z=(O!==oe?j.slice(0,O)+C+j.slice(oe):j.slice(0,O)+C+j.slice(O)).slice(0,a);if(z.length>0&&E&&!E.test(z))return;I.value=z,D(z);let J=Math.min(z.length,a-1),V=z.length;I.setSelectionRange(J,V),re(J),le(V)},[a,D,E,j]),Ae=s.useMemo(()=>({position:"relative",cursor:f.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[f.disabled]),ve=s.useMemo(()=>({position:"absolute",inset:0,width:te.willPushPWMBadge?`calc(100% + ${te.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:te.willPushPWMBadge?`inset(0 ${te.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:i,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[te.PWM_BADGE_SPACE_WIDTH,te.willPushPWMBadge,i]),Fe=s.useMemo(()=>s.createElement("input",Vt(Wt({autoComplete:f.autoComplete||"one-time-code"},f),{"data-input-otp":!0,"data-input-otp-placeholder-shown":j.length===0||void 0,"data-input-otp-mss":Z,"data-input-otp-mse":ee,inputMode:y,pattern:E?.source,"aria-placeholder":d,style:ve,maxLength:a,value:j,ref:w,onPaste:u=>{var p;ge(u),(p=f.onPaste)==null||p.call(f,u)},onChange:he,onMouseOver:u=>{var p;me(!0),(p=f.onMouseOver)==null||p.call(f,u)},onMouseLeave:u=>{var p;me(!1),(p=f.onMouseLeave)==null||p.call(f,u)},onFocus:u=>{var p;xe(),(p=f.onFocus)==null||p.call(f,u)},onBlur:u=>{var p;ce(!1),(p=f.onBlur)==null||p.call(f,u)}})),[he,xe,ge,y,ve,a,ee,Z,f,E?.source,j]),de=s.useMemo(()=>({slots:Array.from({length:a}).map((u,p)=>{var P;let I=ne&&Z!==null&&ee!==null&&(Z===ee&&p===Z||p>=Z&&p<ee),L=j[p]!==void 0?j[p]:null,C=j[0]!==void 0?null:(P=d?.[p])!=null?P:null;return{char:L,placeholderChar:C,isActive:I,hasFakeCaret:I&&L===null}}),isFocused:ne,isHovering:!f.disabled&&fe}),[ne,fe,a,ee,Z,f.disabled,j]),Oe=s.useMemo(()=>b?b(de):s.createElement(Te.Provider,{value:de},N),[N,de,b]);return s.createElement(s.Fragment,null,x!==null&&s.createElement("noscript",null,s.createElement("style",null,x)),s.createElement("div",{ref:q,"data-input-otp-container":!0,style:Ae,className:v},Oe,s.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Fe)))});Me.displayName="Input";function ae(l,e){try{l.insertRule(e)}catch{console.error("input-otp could not insert CSS rule:",e)}}var Ut=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`,Yt="^\\d+$";const Re=s.forwardRef((l,e)=>{const t=M.c(13);let r,o,a;t[0]!==l?({className:r,containerClassName:o,...a}=l,t[0]=l,t[1]=r,t[2]=o,t[3]=a):(r=t[1],o=t[2],a=t[3]);let i;t[4]!==o?(i=X("flex items-center gap-2 has-[:disabled]:opacity-50",o),t[4]=o,t[5]=i):i=t[5];let c;t[6]!==r?(c=X("disabled:cursor-not-allowed",r),t[6]=r,t[7]=c):c=t[7];let d;return t[8]!==a||t[9]!==e||t[10]!==i||t[11]!==c?(d=n.jsx(Me,{ref:e,containerClassName:i,className:c,...a}),t[8]=a,t[9]=e,t[10]=i,t[11]=c,t[12]=d):d=t[12],d});Re.displayName="InputOTP";const Pe=s.forwardRef((l,e)=>{const t=M.c(9);let r,o;t[0]!==l?({className:r,...o}=l,t[0]=l,t[1]=r,t[2]=o):(r=t[1],o=t[2]);let a;t[3]!==r?(a=X("flex items-center",r),t[3]=r,t[4]=a):a=t[4];let i;return t[5]!==o||t[6]!==e||t[7]!==a?(i=n.jsx("div",{ref:e,className:a,...o}),t[5]=o,t[6]=e,t[7]=a,t[8]=i):i=t[8],i});Pe.displayName="InputOTPGroup";const $e=s.forwardRef((l,e)=>{const t=M.c(15);let r,o,a;t[0]!==l?({index:o,className:r,...a}=l,t[0]=l,t[1]=r,t[2]=o,t[3]=a):(r=t[1],o=t[2],a=t[3]);const i=s.useContext(Te),{char:c,hasFakeCaret:d,isActive:y}=i.slots[o],g=y&&"z-10 ring-1 ring-ring";let h;t[4]!==r||t[5]!==g?(h=X("relative flex h-9 w-9 items-center justify-center border-y border-r border-input text-sm shadow-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",g,r),t[4]=r,t[5]=g,t[6]=h):h=t[6];let m;t[7]!==d?(m=d&&n.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})}),t[7]=d,t[8]=m):m=t[8];let v;return t[9]!==c||t[10]!==a||t[11]!==e||t[12]!==h||t[13]!==m?(v=n.jsxs("div",{ref:e,className:h,...a,children:[c,m]}),t[9]=c,t[10]=a,t[11]=e,t[12]=h,t[13]=m,t[14]=v):v=t[14],v});$e.displayName="InputOTPSlot";const en=s.forwardRef((l,e)=>{const t=M.c(6);let r;t[0]!==l?({...r}=l,t[0]=l,t[1]=r):r=t[1];let o;t[2]===Symbol.for("react.memo_cache_sentinel")?(o=n.jsx(St,{}),t[2]=o):o=t[2];let a;return t[3]!==r||t[4]!==e?(a=n.jsx("div",{ref:e,role:"separator",...r,children:o}),t[3]=r,t[4]=e,t[5]=a):a=t[5],a});en.displayName="InputOTPSeparator";function tn(){const l=M.c(3),[e,t]=s.useState(null);let r;l[0]===Symbol.for("react.memo_cache_sentinel")?(r=async i=>{if(!navigator?.clipboard)return console.warn("Clipboard not supported"),!1;try{return await navigator.clipboard.writeText(i),t(i),!0}catch(c){return console.warn("Copy failed",c),t(null),!1}},l[0]=r):r=l[0];const o=r;let a;return l[1]!==e?(a=[e,o],l[1]=e,l[2]=a):a=l[2],a}function Se(l){const e=M.c(8);let t,r;e[0]!==l?({className:t,...r}=l,e[0]=l,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let o;e[3]!==t?(o=X("size-4 animate-spin",t),e[3]=t,e[4]=o):o=e[4];let a;return e[5]!==r||e[6]!==o?(a=n.jsx(yt,{role:"status","aria-label":"Loading",className:o,...r}),e[5]=r,e[6]=o,e[7]=a):a=e[7],a}function nn(){const l=M.c(2);let e;l[0]===Symbol.for("react.memo_cache_sentinel")?(e=n.jsx("div",{className:"absolute inset-0 grid grid-cols-5 opacity-50",children:Array.from({length:5},ln)}),l[0]=e):e=l[0];let t;return l[1]===Symbol.for("react.memo_cache_sentinel")?(t=n.jsx("div",{className:"mb-3 rounded-full border border-border bg-card p-0.5 shadow-sm",children:n.jsxs("div",{className:"relative overflow-hidden rounded-full border border-border bg-muted p-2.5",children:[e,n.jsx("div",{className:"absolute inset-0 grid grid-rows-5 opacity-50",children:Array.from({length:5},rn)}),n.jsx(kt,{className:"relative z-20 size-6 text-foreground"})]})}),l[1]=t):t=l[1],t}function rn(l,e){return n.jsx("div",{className:"border-b border-border last:border-b-0"},`row-${e+1}`)}function ln(l,e){return n.jsx("div",{className:"border-r border-border last:border-r-0"},`col-${e+1}`)}function an(l){const e=M.c(8),{qrCodeSvg:t,manualSetupKey:r,buttonText:o,onNextStep:a,errors:i}=l,[c,d]=tn(),y=c===r?ct:ft;let g;return e[0]!==y||e[1]!==o||e[2]!==d||e[3]!==i||e[4]!==r||e[5]!==a||e[6]!==t?(g=n.jsx(n.Fragment,{children:i?.length?n.jsx(Ne,{errors:i}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mx-auto flex max-w-md overflow-hidden",children:n.jsx("div",{className:"mx-auto aspect-square w-64 rounded-lg border border-border",children:n.jsx("div",{className:"z-10 flex h-full w-full items-center justify-center p-5",children:t?n.jsx("div",{dangerouslySetInnerHTML:{__html:t}}):n.jsx(Se,{})})})}),n.jsx("div",{className:"flex w-full space-x-5",children:n.jsx(Q,{className:"w-full",onClick:a,children:o})}),n.jsxs("div",{className:"relative flex w-full items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 top-1/2 h-px w-full bg-border"}),n.jsx("span",{className:"relative bg-card px-2 py-1",children:"or, enter the code manually"})]}),n.jsx("div",{className:"flex w-full space-x-2",children:n.jsx("div",{className:"flex w-full items-stretch overflow-hidden rounded-xl border border-border",children:r?n.jsxs(n.Fragment,{children:[n.jsx("input",{type:"text",readOnly:!0,value:r,className:"h-full w-full bg-background p-3 text-foreground outline-none"}),n.jsx("button",{onClick:()=>d(r),className:"border-l border-border px-3 hover:bg-muted",children:n.jsx(y,{className:"w-4"})})]}):n.jsx("div",{className:"flex h-full w-full items-center justify-center bg-muted p-3",children:n.jsx(Se,{})})})})]})}),e[0]=y,e[1]=o,e[2]=d,e[3]=i,e[4]=r,e[5]=a,e[6]=t,e[7]=g):g=e[7],g}function on(l){const e=M.c(11),{onClose:t,onBack:r}=l,[o,a]=s.useState(""),i=s.useRef(null);let c,d;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{setTimeout(()=>{i.current?.querySelector("input")?.focus()},0)},d=[],e[0]=c,e[1]=d):(c=e[0],d=e[1]),s.useEffect(c,d);let y;e[2]===Symbol.for("react.memo_cache_sentinel")?(y=Je.form(),e[2]=y):y=e[2];let g;e[3]!==t?(g=()=>t(),e[3]=t,e[4]=g):g=e[4];let h;e[5]!==o||e[6]!==r?(h=v=>{const{processing:x,errors:b}=v;return n.jsx(n.Fragment,{children:n.jsxs("div",{ref:i,className:"relative w-full space-y-3",children:[n.jsxs("div",{className:"flex w-full flex-col items-center space-y-3 py-2",children:[n.jsx(Re,{id:"otp",name:"code",maxLength:pe,onChange:a,disabled:x,pattern:Yt,children:n.jsx(Pe,{children:Array.from({length:pe},sn)})}),n.jsx(tt,{message:b?.confirmTwoFactorAuthentication?.code})]}),n.jsxs("div",{className:"flex w-full space-x-5",children:[n.jsx(Q,{type:"button",variant:"outline",className:"flex-1",onClick:r,disabled:x,children:"Back"}),n.jsx(Q,{type:"submit",className:"flex-1",disabled:x||o.length<pe,children:"Confirm"})]})]})})},e[5]=o,e[6]=r,e[7]=h):h=e[7];let m;return e[8]!==g||e[9]!==h?(m=n.jsx(se,{...y,onSuccess:g,resetOnError:!0,resetOnSuccess:!0,children:h}),e[8]=g,e[9]=h,e[10]=m):m=e[10],m}function sn(l,e){return n.jsx($e,{index:e},e)}function cn(l){const e=M.c(43),{isOpen:t,onClose:r,requiresConfirmation:o,twoFactorEnabled:a,qrCodeSvg:i,manualSetupKey:c,clearSetupData:d,fetchSetupData:y,errors:g}=l,[h,m]=s.useState(!1);let v;e:{if(a){let A;e[0]===Symbol.for("react.memo_cache_sentinel")?(A={title:"Two-Factor Authentication Enabled",description:"Two-factor authentication is now enabled. Scan the QR code or enter the setup key in your authenticator app.",buttonText:"Close"},e[0]=A):A=e[0],v=A;break e}if(h){let A;e[1]===Symbol.for("react.memo_cache_sentinel")?(A={title:"Verify Authentication Code",description:"Enter the 6-digit code from your authenticator app",buttonText:"Continue"},e[1]=A):A=e[1],v=A;break e}let W;e[2]===Symbol.for("react.memo_cache_sentinel")?(W={title:"Enable Two-Factor Authentication",description:"To finish enabling two-factor authentication, scan the QR code or enter the setup key in your authenticator app",buttonText:"Continue"},e[2]=W):W=e[2],v=W}const x=v;let b;e[3]!==d||e[4]!==r||e[5]!==o?(b=()=>{if(o){m(!0);return}d(),r()},e[3]=d,e[4]=r,e[5]=o,e[6]=b):b=e[6];const N=b;let f;e[7]!==d||e[8]!==a?(f=()=>{m(!1),a&&d()},e[7]=d,e[8]=a,e[9]=f):f=e[9];const S=f;let _,k;e[10]!==y||e[11]!==t||e[12]!==i?(_=()=>{t&&!i&&y()},k=[t,i,y],e[10]=y,e[11]=t,e[12]=i,e[13]=_,e[14]=k):(_=e[13],k=e[14]),s.useEffect(_,k);let T;e[15]!==r||e[16]!==S?(T=()=>{S(),r()},e[15]=r,e[16]=S,e[17]=T):T=e[17];const F=T;let R;e[18]!==F?(R=W=>!W&&F(),e[18]=F,e[19]=R):R=e[19];let H;e[20]===Symbol.for("react.memo_cache_sentinel")?(H=n.jsx(nn,{}),e[20]=H):H=e[20];let j;e[21]!==x.title?(j=n.jsx(nt,{children:x.title}),e[21]=x.title,e[22]=j):j=e[22];let $;e[23]!==x.description?($=n.jsx(rt,{className:"text-center",children:x.description}),e[23]=x.description,e[24]=$):$=e[24];let D;e[25]!==$||e[26]!==j?(D=n.jsxs(lt,{className:"flex items-center justify-center",children:[H,j,$]}),e[25]=$,e[26]=j,e[27]=D):D=e[27];let E;e[28]!==g||e[29]!==N||e[30]!==c||e[31]!==x.buttonText||e[32]!==r||e[33]!==i||e[34]!==h?(E=n.jsx("div",{className:"flex flex-col items-center space-y-5",children:h?n.jsx(on,{onClose:r,onBack:()=>m(!1)}):n.jsx(an,{qrCodeSvg:i,manualSetupKey:c,buttonText:x.buttonText,onNextStep:N,errors:g})}),e[28]=g,e[29]=N,e[30]=c,e[31]=x.buttonText,e[32]=r,e[33]=i,e[34]=h,e[35]=E):E=e[35];let w;e[36]!==D||e[37]!==E?(w=n.jsxs(at,{className:"sm:max-w-md",children:[D,E]}),e[36]=D,e[37]=E,e[38]=w):w=e[38];let q;return e[39]!==t||e[40]!==w||e[41]!==R?(q=n.jsx(ot,{open:t,onOpenChange:R,children:w}),e[39]=t,e[40]=w,e[41]=R,e[42]=q):q=e[42],q}function Cn(l){const e=M.c(21),{requiresConfirmation:t,twoFactorEnabled:r}=l,o=t===void 0?!1:t,a=r===void 0?!1:r,{qrCodeSvg:i,hasSetupData:c,manualSetupKey:d,clearSetupData:y,fetchSetupData:g,recoveryCodesList:h,fetchRecoveryCodes:m,errors:v}=st(),[x,b]=s.useState(!1);let N;e[0]===Symbol.for("react.memo_cache_sentinel")?(N=n.jsx(He,{title:"Two-Factor Authentication"}),e[0]=N):N=e[0];let f;e[1]===Symbol.for("react.memo_cache_sentinel")?(f=n.jsx(ze,{title:"Two-Factor Authentication",description:"Manage your two-factor authentication settings"}),e[1]=f):f=e[1];let S;e[2]!==v||e[3]!==m||e[4]!==c||e[5]!==h||e[6]!==a?(S=a?n.jsxs("div",{className:"flex flex-col items-start justify-start space-y-4",children:[n.jsx(je,{variant:"default",children:"Enabled"}),n.jsx("p",{className:"text-muted-foreground",children:"With two-factor authentication enabled, you will be prompted for a secure, random pin during login, which you can retrieve from the TOTP-supported application on your phone."}),n.jsx(Ot,{recoveryCodesList:h,fetchRecoveryCodes:m,errors:v}),n.jsx("div",{className:"relative inline",children:n.jsx(se,{...Ue.form(),children:un})})]}):n.jsxs("div",{className:"flex flex-col items-start justify-start space-y-4",children:[n.jsx(je,{variant:"destructive",children:"Disabled"}),n.jsx("p",{className:"text-muted-foreground",children:"When you enable two-factor authentication, you will be prompted for a secure pin during login. This pin can be retrieved from a TOTP-supported application on your phone."}),n.jsx("div",{children:c?n.jsxs(Q,{onClick:()=>b(!0),children:[n.jsx(Ce,{}),"Continue Setup"]}):n.jsx(se,{...Ye.form(),onSuccess:()=>b(!0),children:dn})})]}),e[2]=v,e[3]=m,e[4]=c,e[5]=h,e[6]=a,e[7]=S):S=e[7];let _;e[8]===Symbol.for("react.memo_cache_sentinel")?(_=()=>b(!1),e[8]=_):_=e[8];let k;e[9]!==y||e[10]!==v||e[11]!==g||e[12]!==d||e[13]!==i||e[14]!==o||e[15]!==x||e[16]!==a?(k=n.jsx(cn,{isOpen:x,onClose:_,requiresConfirmation:o,twoFactorEnabled:a,qrCodeSvg:i,manualSetupKey:d,clearSetupData:y,fetchSetupData:g,errors:v}),e[9]=y,e[10]=v,e[11]=g,e[12]=d,e[13]=i,e[14]=o,e[15]=x,e[16]=a,e[17]=k):k=e[17];let T;return e[18]!==S||e[19]!==k?(T=n.jsxs(et,{children:[N,n.jsx("div",{className:"mx-auto max-w-4xl",children:n.jsx(We,{children:n.jsxs("div",{className:"space-y-6",children:[f,S,k]})})})]}),e[18]=S,e[19]=k,e[20]=T):T=e[20],T}function dn(l){const{processing:e}=l;return n.jsxs(Q,{type:"submit",disabled:e,children:[n.jsx(Ce,{}),"Enable 2FA"]})}function un(l){const{processing:e}=l;return n.jsxs(Q,{variant:"destructive",type:"submit",disabled:e,children:[n.jsx(Tt,{})," Disable 2FA"]})}export{Cn as default};
