import{U as w,c as _,j as s,L as I,H as q}from"./app-vjamzGlt.js";import{q as O,d as D,g as N,s as A,o as L,u as M}from"./public-header-C6hcvf9O.js";import{G as z}from"./global-layout-B5AyPaZU.js";/* empty css            */function B(t,e){if(t==null)return{};var n=W(t,e),o,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)o=i[r],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function W(t,e){if(t==null)return{};var n={},o=Object.keys(t),r,i;for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function j(){return j=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},j.apply(this,arguments)}function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P(Object(n),!0).forEach(function(o){$(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function $(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Q={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},v=2;class E extends w.Component{constructor(e){super(e),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this);let n;this.props.breakpointCols&&this.props.breakpointCols.default?n=this.props.breakpointCols.default:n=parseInt(this.props.breakpointCols)||v,this.state={columnCount:n}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){const e=window&&window.innerWidth||1/0;let n=this.props.breakpointCols;typeof n!="object"&&(n={default:parseInt(n)||v});let o=1/0,r=n.default||v;for(let i in n){const l=parseInt(i);l>0&&e<=l&&l<o&&(o=l,r=n[i])}r=Math.max(1,parseInt(r)||1),this.state.columnCount!==r&&this.setState({columnCount:r})}itemsInColumns(){const e=this.state.columnCount,n=new Array(e),o=w.Children.toArray(this.props.children);for(let r=0;r<o.length;r++){const i=r%e;n[i]||(n[i]=[]),n[i].push(o[r])}return n}renderColumns(){const{column:e,columnAttrs:n={},columnClassName:o}=this.props,r=this.itemsInColumns(),i=`${100/r.length}%`;let l=o;l&&typeof l!="string"&&(this.logDeprecated('The property "columnClassName" requires a string'),typeof l>"u"&&(l="my-masonry-grid_column"));const a=g(g(g({},e),n),{},{style:g(g({},n.style),{},{width:i}),className:l});return r.map((c,u)=>w.createElement("div",j({},a,{key:u}),c))}logDeprecated(e){console.error("[Masonry]",e)}render(){const e=this.props,{children:n,breakpointCols:o,columnClassName:r,columnAttrs:i,column:l,className:a}=e,c=B(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let u=a;return typeof a!="string"&&(this.logDeprecated('The property "className" requires a string'),typeof a>"u"&&(u="my-masonry-grid")),w.createElement("div",j({},c,{className:u}),this.renderColumns())}}E.defaultProps=Q;const d=t=>({url:d.url(t),method:"get"});d.definition={methods:["get","head"],url:"/gallery/list"};d.url=t=>d.definition.url+O(t);d.get=t=>({url:d.url(t),method:"get"});d.head=t=>({url:d.url(t),method:"head"});const k=t=>({action:d.url(t),method:"get"});k.get=t=>({action:d.url(t),method:"get"});k.head=t=>({action:d.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...t?.query??t?.mergeQuery??{}}}),method:"get"});d.form=k;const m=(t,e)=>({url:m.url(t,e),method:"get"});m.definition={methods:["get","head"],url:"/gallery/{photoSubmission}"};m.url=(t,e)=>{(typeof t=="string"||typeof t=="number")&&(t={photoSubmission:t}),typeof t=="object"&&!Array.isArray(t)&&"id"in t&&(t={photoSubmission:t.id}),Array.isArray(t)&&(t={photoSubmission:t[0]}),t=D(t);const n={photoSubmission:typeof t.photoSubmission=="object"?t.photoSubmission.id:t.photoSubmission};return m.definition.url.replace("{photoSubmission}",n.photoSubmission.toString()).replace(/\/+$/,"")+O(e)};m.get=(t,e)=>({url:m.url(t,e),method:"get"});m.head=(t,e)=>({url:m.url(t,e),method:"head"});const S=(t,e)=>({action:m.url(t,e),method:"get"});S.get=(t,e)=>({action:m.url(t,e),method:"get"});S.head=(t,e)=>({action:m.url(t,{[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});m.form=S;const y=(t,e)=>({url:y.url(t,e),method:"post"});y.definition={methods:["post"],url:"/gallery/{photoSubmission}/vote"};y.url=(t,e)=>{(typeof t=="string"||typeof t=="number")&&(t={photoSubmission:t}),typeof t=="object"&&!Array.isArray(t)&&"id"in t&&(t={photoSubmission:t.id}),Array.isArray(t)&&(t={photoSubmission:t[0]}),t=D(t);const n={photoSubmission:typeof t.photoSubmission=="object"?t.photoSubmission.id:t.photoSubmission};return y.definition.url.replace("{photoSubmission}",n.photoSubmission.toString()).replace(/\/+$/,"")+O(e)};y.post=(t,e)=>({url:y.url(t,e),method:"post"});const F=(t,e)=>({action:y.url(t,e),method:"post"});F.post=(t,e)=>({action:y.url(t,e),method:"post"});y.form=F;Object.assign(d,d),Object.assign(m,m),Object.assign(y,y);const U=t=>{const e=_.c(15),{photos:n,className:o}=t;if(n.length===0){let u;e[0]!==o?(u=N("text-center",o),e[0]=o,e[1]=u):u=e[1];let p,h,f;e[2]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx("svg",{className:"mb-4 size-16 text-gray-400 dark:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),h=s.jsx(L,{as:"h3",level:3,children:"No photos available yet"}),f=s.jsx("p",{className:"text-sm text-gray-1100 mb-4",children:"Check back soon for contest entries!"}),e[2]=p,e[3]=h,e[4]=f):(p=e[2],h=e[3],f=e[4]);let b;return e[5]!==u?(b=s.jsx(A,{children:s.jsxs(A.Body,{className:u,children:[p,h,f]})}),e[5]=u,e[6]=b):b=e[6],b}let r;e[7]===Symbol.for("react.memo_cache_sentinel")?(r={default:4,1024:3,768:1},e[7]=r):r=e[7];const i=r;let l;e[8]!==o?(l=N("-ml-4 flex w-auto",o),e[8]=o,e[9]=l):l=e[9];let a;e[10]!==n?(a=n.map(H),e[10]=n,e[11]=a):a=e[11];let c;return e[12]!==l||e[13]!==a?(c=s.jsx(E,{breakpointCols:i,className:l,columnClassName:"pl-4 bg-clip-padding",role:"list","aria-label":"Photo gallery",children:a}),e[12]=l,e[13]=a,e[14]=c):c=e[14],c};function H(t,e){return s.jsxs(I,{href:m.url(t),className:"group relative mb-4 block overflow-hidden rounded-lg bg-gray-100 shadow-md transition-all duration-300 hover:scale-[1.02] hover:shadow-xl dark:bg-gray-800",role:"listitem",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:t.thumbnail_url,alt:`Contest photo ${t.id}`,loading:e<12?"eager":"lazy",className:"w-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"})]}),t.rate!==null&&t.rate>0&&s.jsxs("div",{className:"absolute bottom-3 right-3 flex items-center gap-1 rounded-full bg-white/95 px-3 py-1.5 text-sm font-semibold text-gray-900 shadow-lg backdrop-blur-sm dark:bg-gray-900/95 dark:text-gray-100",children:[s.jsx("svg",{className:"size-4 fill-yellow-400 text-yellow-400",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),s.jsx("span",{children:t.rate.toFixed(1)})]})]},t.id)}const V=t=>{const e=_.c(28),{photos:n}=t,{t:o}=M("content");let r;e[0]!==o?(r=o("landing.title"),e[0]=o,e[1]=r):r=e[1];let i;e[2]!==o?(i=o("landing.meta.description"),e[2]=o,e[3]=i):i=e[3];let l;e[4]!==i?(l=s.jsx("meta",{name:"description",content:i}),e[4]=i,e[5]=l):l=e[5];let a;e[6]!==r||e[7]!==l?(a=s.jsx(q,{title:r,children:l}),e[6]=r,e[7]=l,e[8]=a):a=e[8];let c;e[9]!==o?(c=o("landing.title"),e[9]=o,e[10]=c):c=e[10];let u;e[11]!==c?(u=s.jsx(L,{as:"h1",level:1,children:c}),e[11]=c,e[12]=u):u=e[12];let p;e[13]!==o?(p=o("landing.subtitle"),e[13]=o,e[14]=p):p=e[14];let h;e[15]!==p?(h=s.jsx("p",{className:"text-sm text-gray-1100 mb-4",children:p}),e[15]=p,e[16]=h):h=e[16];let f;e[17]!==u||e[18]!==h?(f=s.jsxs("div",{className:"mb-8 text-center",children:[u,h]}),e[17]=u,e[18]=h,e[19]=f):f=e[19];let b;e[20]!==n?(b=s.jsx(U,{photos:n}),e[20]=n,e[21]=b):b=e[21];let C;e[22]!==b||e[23]!==f?(C=s.jsxs("div",{className:"mx-auto max-w-7xl",children:[f,b]}),e[22]=b,e[23]=f,e[24]=C):C=e[24];let x;return e[25]!==C||e[26]!==a?(x=s.jsxs(z,{children:[a,C]}),e[25]=C,e[26]=a,e[27]=x):x=e[27],x};export{V as default};
