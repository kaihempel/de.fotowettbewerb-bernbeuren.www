import{U as g,c as A,j as s,L as E,H as F}from"./app-D5FN9qVZ.js";import{q as j,c as _,e as S,s as k,n as P}from"./utils-DPAYgDfm.js";import{G as I}from"./global-layout-BeWeqX2L.js";/* empty css            */function q(e,t){if(e==null)return{};var o=B(e,t),n,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function B(e,t){if(e==null)return{};var o={},n=Object.keys(e),r,i;for(i=0;i<n.length;i++)r=n[i],!(t.indexOf(r)>=0)&&(o[r]=e[r]);return o}function w(){return w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},w.apply(this,arguments)}function N(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),o.push.apply(o,n)}return o}function h(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?N(Object(o),!0).forEach(function(n){z(e,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):N(Object(o)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))})}return e}function z(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const M={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},x=2;class D extends g.Component{constructor(t){super(t),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this);let o;this.props.breakpointCols&&this.props.breakpointCols.default?o=this.props.breakpointCols.default:o=parseInt(this.props.breakpointCols)||x,this.state={columnCount:o}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){const t=window&&window.innerWidth||1/0;let o=this.props.breakpointCols;typeof o!="object"&&(o={default:parseInt(o)||x});let n=1/0,r=o.default||x;for(let i in o){const l=parseInt(i);l>0&&t<=l&&l<n&&(n=l,r=o[i])}r=Math.max(1,parseInt(r)||1),this.state.columnCount!==r&&this.setState({columnCount:r})}itemsInColumns(){const t=this.state.columnCount,o=new Array(t),n=g.Children.toArray(this.props.children);for(let r=0;r<n.length;r++){const i=r%t;o[i]||(o[i]=[]),o[i].push(n[r])}return o}renderColumns(){const{column:t,columnAttrs:o={},columnClassName:n}=this.props,r=this.itemsInColumns(),i=`${100/r.length}%`;let l=n;l&&typeof l!="string"&&(this.logDeprecated('The property "columnClassName" requires a string'),typeof l>"u"&&(l="my-masonry-grid_column"));const c=h(h(h({},t),o),{},{style:h(h({},o.style),{},{width:i}),className:l});return r.map((p,m)=>g.createElement("div",w({},c,{key:m}),p))}logDeprecated(t){console.error("[Masonry]",t)}render(){const t=this.props,{children:o,breakpointCols:n,columnClassName:r,columnAttrs:i,column:l,className:c}=t,p=q(t,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let m=c;return typeof c!="string"&&(this.logDeprecated('The property "className" requires a string'),typeof c>"u"&&(m="my-masonry-grid")),g.createElement("div",w({},p,{className:m}),this.renderColumns())}}D.defaultProps=M;const u=e=>({url:u.url(e),method:"get"});u.definition={methods:["get","head"],url:"/gallery/list"};u.url=e=>u.definition.url+j(e);u.get=e=>({url:u.url(e),method:"get"});u.head=e=>({url:u.url(e),method:"head"});const v=e=>({action:u.url(e),method:"get"});v.get=e=>({action:u.url(e),method:"get"});v.head=e=>({action:u.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});u.form=v;const a=(e,t)=>({url:a.url(e,t),method:"get"});a.definition={methods:["get","head"],url:"/gallery/{photoSubmission}"};a.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={photoSubmission:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={photoSubmission:e.id}),Array.isArray(e)&&(e={photoSubmission:e[0]}),e=_(e);const o={photoSubmission:typeof e.photoSubmission=="object"?e.photoSubmission.id:e.photoSubmission};return a.definition.url.replace("{photoSubmission}",o.photoSubmission.toString()).replace(/\/+$/,"")+j(t)};a.get=(e,t)=>({url:a.url(e,t),method:"get"});a.head=(e,t)=>({url:a.url(e,t),method:"head"});const O=(e,t)=>({action:a.url(e,t),method:"get"});O.get=(e,t)=>({action:a.url(e,t),method:"get"});O.head=(e,t)=>({action:a.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...t?.query??t?.mergeQuery??{}}}),method:"get"});a.form=O;const d=(e,t)=>({url:d.url(e,t),method:"post"});d.definition={methods:["post"],url:"/gallery/{photoSubmission}/vote"};d.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={photoSubmission:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={photoSubmission:e.id}),Array.isArray(e)&&(e={photoSubmission:e[0]}),e=_(e);const o={photoSubmission:typeof e.photoSubmission=="object"?e.photoSubmission.id:e.photoSubmission};return d.definition.url.replace("{photoSubmission}",o.photoSubmission.toString()).replace(/\/+$/,"")+j(t)};d.post=(e,t)=>({url:d.url(e,t),method:"post"});const L=(e,t)=>({action:d.url(e,t),method:"post"});L.post=(e,t)=>({action:d.url(e,t),method:"post"});d.form=L;Object.assign(u,u),Object.assign(a,a),Object.assign(d,d);const W=e=>{const t=A.c(15),{photos:o,className:n}=e;if(o.length===0){let m;t[0]!==n?(m=S("text-center",n),t[0]=n,t[1]=m):m=t[1];let f,b,y;t[2]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx("svg",{className:"mb-4 size-16 text-gray-400 dark:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),b=s.jsx(P,{as:"h3",level:3,children:"No photos available yet"}),y=s.jsx("p",{className:"text-sm text-gray-1100 mb-4",children:"Check back soon for contest entries!"}),t[2]=f,t[3]=b,t[4]=y):(f=t[2],b=t[3],y=t[4]);let C;return t[5]!==m?(C=s.jsx(k,{children:s.jsxs(k.Body,{className:m,children:[f,b,y]})}),t[5]=m,t[6]=C):C=t[6],C}let r;t[7]===Symbol.for("react.memo_cache_sentinel")?(r={default:4,1024:3,768:1},t[7]=r):r=t[7];const i=r;let l;t[8]!==n?(l=S("-ml-4 flex w-auto",n),t[8]=n,t[9]=l):l=t[9];let c;t[10]!==o?(c=o.map($),t[10]=o,t[11]=c):c=t[11];let p;return t[12]!==l||t[13]!==c?(p=s.jsx(D,{breakpointCols:i,className:l,columnClassName:"pl-4 bg-clip-padding",role:"list","aria-label":"Photo gallery",children:c}),t[12]=l,t[13]=c,t[14]=p):p=t[14],p};function $(e,t){return s.jsxs(E,{href:a.url(e),className:"group relative mb-4 block overflow-hidden rounded-lg bg-gray-100 shadow-md transition-all duration-300 hover:scale-[1.02] hover:shadow-xl dark:bg-gray-800",role:"listitem",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:e.thumbnail_url,alt:`Contest photo ${e.id}`,loading:t<12?"eager":"lazy",className:"w-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"})]}),e.rate!==null&&e.rate>0&&s.jsxs("div",{className:"absolute bottom-3 right-3 flex items-center gap-1 rounded-full bg-white/95 px-3 py-1.5 text-sm font-semibold text-gray-900 shadow-lg backdrop-blur-sm dark:bg-gray-900/95 dark:text-gray-100",children:[s.jsx("svg",{className:"size-4 fill-yellow-400 text-yellow-400",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),s.jsx("span",{children:e.rate.toFixed(1)})]})]},e.id)}const R=e=>{const t=A.c(4),{photos:o}=e;let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(F,{title:"Photo Contest Gallery",children:s.jsx("meta",{name:"description",content:"Browse and vote on contest photo entries"})}),t[0]=n):n=t[0];let r;t[1]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsxs("div",{className:"mb-8 text-center",children:[s.jsx(P,{as:"h1",level:1,children:"Photo Contest Gallery"}),s.jsx("p",{className:"text-sm text-gray-1100 mb-4",children:"Browse and vote on amazing photo submissions"})]}),t[1]=r):r=t[1];let i;return t[2]!==o?(i=s.jsxs(I,{children:[n,s.jsxs("div",{className:"mx-auto max-w-7xl",children:[r,s.jsx(W,{photos:o})]})]}),t[2]=o,t[3]=i):i=t[3],i};export{R as default};
